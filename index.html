<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>НАУМОВ ВАДИМ</title>
    <meta http-equiv="Cache-Control" content="public, max-age=31536000">
    <meta name="description" content="Портфолио графического дизайнера Наумова Вадима">
    <meta name="keywords" content="дизайн, графический дизайн, портфолио, логотипы, брендинг">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preload" href="Republiko_PersonalUse.otf" as="font" type="font/otf" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:wght@700&display=swap" rel="stylesheet" media="print" onload="this.media='all'">
    <style>
        @font-face {
            font-family: 'Republiko_PersonalUse';
            src: url('Republiko_PersonalUse.otf') format('opentype');
            font-weight: normal;
            font-style: normal;
            font-display: swap;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: 'Helvetica Neue', Arial, sans-serif; 
            background: #000000; 
            color: #fff; 
            overflow-x: hidden; 
            line-height: 1.6; 
            cursor: default; 
            position: relative;
            /* Фоновая GIF на самом заднем слое */
            background-image: url('assets/img/ptt.gif');
            background-repeat: no-repeat;
            background-position: center center;
            background-attachment: fixed;
            background-size: 1038px 1038px;
        }
        
        
        /* Фоновая GIF установлена фоном body */
        
        
        
        
        
        
        .scroll-indicator { position: fixed; top: 0; left: 0; width: 100%; height: 4px; background: #333; z-index: 1000; }
        .scroll-progress { height: 100%; background: #fff; width: 0%; transition: width 0.1s ease; }
        .hero { 
            height: 100vh; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            position: relative; 
            background: transparent; 
            overflow: hidden;
        }
        .hero-content { 
            text-align: center; 
            max-width: 100%; 
            padding: 0 60px; 
            position: relative; 
            z-index: 1000; 
        }
        .hero-title { 
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            padding: 0;
            opacity: 1; 
            transform: scale(1) rotate(0deg); 
            cursor: default;
            position: relative;
            z-index: 1001;
            transition: all 0.3s ease;
            filter: blur(0px) brightness(1);
        }
        .vadya-word {
            font-family: 'Republiko_PersonalUse', 'Source Code Pro', monospace;
            font-size: clamp(6.75rem, 28vw, 18rem);
            font-weight: 700;
            letter-spacing: 0.1em;
            color: #e0e0e0;
            text-shadow: 0 0 8px rgba(255, 255, 255, 0.2), 0 0 16px rgba(255, 255, 255, 0.1);
            margin: 0;
            padding: 0;
            line-height: 1;
            text-align: center;
        }
        .design-word {
            font-family: 'Republiko_PersonalUse', 'Source Code Pro', monospace;
            font-size: clamp(6rem, 22vw, 14rem);
            font-weight: 700;
            letter-spacing: 0.18em;
            color: #e0e0e0;
            text-shadow: 0 0 8px rgba(255, 255, 255, 0.2), 0 0 16px rgba(255, 255, 255, 0.1);
            margin: 0;
            padding: 0;
            line-height: 1;
            text-align: left;
            transform: translateX(-2rem);
        }
        .vadya-word:hover {
            color: #fff;
            text-shadow: 0 0 30px rgba(255, 255, 255, 0.8), 0 0 60px rgba(255, 255, 255, 0.4);
        }
        .design-word:hover {
            color: #fff;
            text-shadow: 0 0 30px rgba(255, 255, 255, 0.8), 0 0 60px rgba(255, 255, 255, 0.4);
        }
        .hero-title .letter {
            display: inline-block;
            transition: all 0.15s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            transform-origin: center;
            position: relative;
            z-index: 1002;
            margin: 0;
            padding: 0;
            line-height: 1;
        }
        /* CSS hover отключен - используется только JavaScript */
        .hero-subtitle { 
            font-size: clamp(1.2rem, 4vw, 2rem); 
            color: #777; 
            margin-bottom: 60px; 
            opacity: 1; 
            transform: translateX(0) rotate(0deg); 
            font-weight: 300; 
            cursor: default;
            position: relative;
            z-index: 1001;
            text-shadow: 0 0 6px rgba(255, 255, 255, 0.15), 0 0 12px rgba(255, 255, 255, 0.08);
            transition: all 0.3s ease;
        }
        .hero-subtitle:hover {
            color: #fff;
            text-shadow: 0 0 20px rgba(255, 255, 255, 0.6), 0 0 40px rgba(255, 255, 255, 0.3);
        }
        .hero-subtitle .letter {
            display: inline-block;
            transition: all 0.15s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            transform-origin: center;
            position: relative;
            z-index: 1002;
        }
        /* CSS hover отключен - используется только JavaScript */
        .hero-description { 
            font-size: clamp(1rem, 2.5vw, 1.4rem); 
            color: #666; 
            max-width: 800px; 
            margin: 0 auto 40px; 
            opacity: 1; 
            transform: translateX(0) rotate(0deg); 
            line-height: 1.8; 
            cursor: default;
            position: relative;
            z-index: 1001;
            text-shadow: 0 0 4px rgba(255, 255, 255, 0.1), 0 0 8px rgba(255, 255, 255, 0.05);
            transition: all 0.3s ease;
        }
        .hero-description:hover {
            color: #fff;
            text-shadow: 0 0 15px rgba(255, 255, 255, 0.5), 0 0 30px rgba(255, 255, 255, 0.2);
        }
        .hero-description .letter {
            display: inline-block;
            transition: all 0.15s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            transform-origin: center;
            position: relative;
            z-index: 1002;
        }
        /* CSS hover отключен - используется только JavaScript */
        .hero-services { display: flex; justify-content: center; flex-wrap: wrap; gap: 40px; margin-top: 60px; opacity: 1; transform: translateY(0); }
        .service-tag { font-size: 1.1rem; color: #888; font-weight: 300; letter-spacing: 0.1em; }
        .profile { padding: 120px 60px; max-width: 100%; margin: 0 auto; text-align: center; }
        .profile-title { font-size: clamp(2rem, 6vw, 4rem); font-weight: 100; margin-bottom: 60px; opacity: 1; transform: translateY(0); }
        .profile-content { display: block; margin-bottom: 60px; }
        .profile-text { text-align: center; max-width: 1000px; margin: 0 auto; }
        .profile-text h3 { font-size: 2.88rem; font-weight: 300; margin-bottom: 60px; color: #fff; }
        .profile-text p { font-size: 1.76rem; color: #888; line-height: 1.8; margin-bottom: 60px; word-spacing: 0.1em; }
        /* Профиль: запрещаем разрывы слов во всех браузерах */
        .profile-text p {
            hyphens: none;
            -webkit-hyphens: none;
            -ms-hyphens: none;
            word-break: keep-all;
            overflow-wrap: normal;
            white-space: normal;
        }
        .profile-text .japanese { font-size: 1rem; color: #666; line-height: 1.6; }
        /* Плавная подсветка букв в описании без увеличения */
        .profile-text p .letter {
            display: inline-block;
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            position: relative;
        }
        .profile-text p .letter:hover {
            color: #fff !important;
            text-shadow: 0 0 20px rgba(255, 255, 255, 0.5) !important;
            transform: scale(1) !important;
        }
        .competencies { padding: 180px 60px; max-width: 100%; margin: 0 auto; text-align: center; }
        .competencies-title { font-size: clamp(1.8rem, 5vw, 3rem); font-weight: 100; margin-bottom: 60px; color: #fff; }
        .competencies-content { max-width: 1000px; margin: 0 auto; text-align: center; display: flex; justify-content: center; width: 100%; }
        .competencies-grid { display: grid; grid-template-columns: max-content max-content; gap: 60px; margin-top: 30px; justify-items: start; align-items: start; margin: 0 auto; }
        .competencies-section { text-align: left; max-width: 100%; }
        .competencies-subtitle { font-size: 2.88rem; font-weight: 300; margin-bottom: 60px; color: #fff; line-height: 1.3; text-align: center; }
        .competencies-text { font-size: 1.76rem; color: #888; line-height: 1.4; margin-bottom: 28px; text-align: left; max-width: 100%; margin-left: auto; margin-right: auto; overflow-wrap: break-word; word-break: normal; hyphens: auto; -webkit-hyphens: auto; -ms-hyphens: auto; }
        
        
        .works { padding: 120px 20px; background: rgba(17, 17, 17, 0.7); backdrop-filter: blur(15px); position: relative; z-index: 10; }
        .works-container { max-width: 100%; margin: 0 auto; padding: 0 60px; }
        .works-title { font-size: clamp(2rem, 6vw, 4rem); font-weight: 100; margin-bottom: 80px; text-align: center; position: relative; z-index: 11; }
        .works-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 40px; margin-bottom: 60px; }
        .work-item { position: relative; aspect-ratio: 16/9; background: rgba(34, 34, 34, 0.8); border-radius: 8px; overflow: hidden; cursor: pointer; transition: all 0.3s ease; border: 1px solid rgba(255, 255, 255, 0.15); z-index: 11; will-change: transform; contain: layout style paint; }
        .work-item:hover { transform: scale(1.05); }
        .work-image { width: 100%; height: 100%; object-fit: cover; object-position: center 60%; transition: all 0.3s ease; will-change: transform; contain: layout style paint; }
        .backdrop-image { object-position: center 35%; }
        .cup-image { object-position: center 50%; }
        .work-item:hover .work-image { transform: scale(1.1); }
        .work-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.9); display: flex; align-items: center; justify-content: center; opacity: 0; transition: opacity 0.3s ease; backdrop-filter: blur(8px); }
        .work-item:hover .work-overlay { opacity: 1; }
        .work-title { font-size: 1.2rem; font-weight: 300; text-align: center; }
        .view-all { text-align: center; }
        .contact { padding: 120px 60px 24px; text-align: center; }
        .contact-row { display: grid; grid-template-columns: 1fr auto 1fr; align-items: center; gap: 20px; width: 100%; padding: 0 60px; margin: 0; }
        .visit-indicator { color: #fff; font-size: 1.1rem; font-weight: 300; letter-spacing: 0.02em; display: flex; align-items: center; gap: 10px; white-space: nowrap; }
        .visit-dot { width: 8px; height: 8px; border-radius: 50%; background: #ffffff; box-shadow: 0 0 10px rgba(255,255,255,0.6); }
        .made-in { color: #fff; font-size: 1.1rem; font-weight: 300; letter-spacing: 0.02em; white-space: nowrap; text-align: left; }
        .contact-center { display: flex; flex-direction: column; align-items: center; gap: 6px; }
        .contact-right { display: flex; flex-direction: column; align-items: flex-end; gap: 8px; }
        .contact-note { color: #fff; font-size: 1.1rem; font-weight: 300; letter-spacing: 0.05em; max-width: 720px; line-height: 1.4; text-align: center; }
        .contact-container { max-width: 100%; margin: 0 auto; }
        .contact-title { font-size: clamp(2rem, 6vw, 4rem); font-weight: 100; margin-bottom: 80px; }
        
        .contact-minimal { 
            display: flex; 
            justify-content: center; 
            gap: 60px; 
            margin: 0; 
            max-width: none; 
        }
        
        .contact-item-minimal { 
            text-align: center; 
        }
        
        .contact-link { 
            color: #fff; 
            text-decoration: none; 
            font-size: 1.1rem; 
            font-weight: 300; 
            letter-spacing: 0.05em; 
            transition: all 0.3s ease; 
            padding: 15px 25px; 
            display: inline-block; 
        }
        
        .contact-link:hover { 
            color: #00ffff; 
            transform: translateY(-2px); 
        }
        
        /* Удалён разделитель */

        /* Мобильный фоновый элемент - скрыт на десктопе */
        #mobileBgSphere {
            display: none;
        }

        /* Экран загрузки — новая минималистичная анимация */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000; /* полностью черный фон */
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10000;
            opacity: 1;
            overflow: hidden;
        }
        .loading-screen.fade-out { opacity: 0; pointer-events: none; transition: opacity 0.8s ease-out; }

        .loading-gif-img {
            width: min(260px, 48vw);
            height: auto;
            display: block;
            image-rendering: auto;
            filter: none;
        }

        /* Прячем основной контент до загрузки */
        .hero,
        .profile,
        .competencies,
        .works,
        .contact,
        .scroll-progress { opacity: 0; transition: opacity 0.5s ease; }
        body.loaded .hero,
        body.loaded .profile,
        body.loaded .competencies,
        body.loaded .works,
        body.loaded .contact,
        body.loaded .scroll-progress { opacity: 1; }

        /* Модальное окно для работ */
        .work-modal {
            display: none;
            position: fixed;
            z-index: 10000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.95);
            backdrop-filter: blur(15px);
            overflow-y: auto;
            overflow-x: hidden;
        }
        
        .modal-content {
            position: relative;
            width: 100%;
            min-height: 100vh;
            background: #000;
        }
        
        .modal-gallery {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 60px 20px;
            gap: 40px;
        }
        
        .modal-close {
            position: fixed;
            top: 20px;
            right: 30px;
            color: #fff;
            font-size: 32px;
            font-weight: bold;
            cursor: pointer;
            z-index: 10001;
            transition: all 0.3s ease;
            background: rgba(0, 0, 0, 0.5);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            will-change: transform, background-color;
            contain: layout style paint;
        }
        
        .modal-close:hover {
            color: #00ffff;
            background: rgba(0, 255, 255, 0.2);
            transform: scale(1.1);
        }
        
        .modal-nav {
            position: fixed;
            top: 50%;
            width: 100%;
            display: flex;
            justify-content: space-between;
            pointer-events: none;
            z-index: 10002;
            padding: 0 30px;
        }
        
        .modal-prev, .modal-next {
            background: rgba(0, 0, 0, 0.7);
            border: 2px solid #fff;
            color: #fff;
            font-size: 28px;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            pointer-events: auto;
            transform: translateY(-50%);
            will-change: transform, background-color;
            contain: layout style paint;
        }
        
        .modal-prev:hover, .modal-next:hover {
            background: #00ffff;
            border-color: #00ffff;
            color: #000;
            transform: translateY(-50%) scale(1.1);
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateX(-50%) translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateX(-50%) translateY(0);
            }
        }
        
        .modal-image {
            width: 100%;
            max-width: 1200px;
            height: auto;
            object-fit: contain;
            border-radius: 12px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            transition: all 0.3s ease;
        }
        
        .modal-image:hover {
            transform: scale(1.02);
        }
        
        .modal-info {
            text-align: center;
            padding: 40px 20px;
            background: transparent;
            max-width: 800px;
            width: 100%;
        }
        
        .modal-title {
            font-size: 3rem;
            font-weight: 200;
            color: #fff;
            margin-bottom: 30px;
            text-shadow: 0 0 30px rgba(255, 255, 255, 0.4);
            letter-spacing: 2px;
        }
        
        .modal-description {
            font-size: 1.4rem;
            color: #e0e0e0;
            margin-bottom: 30px;
            line-height: 1.8;
            font-weight: 300;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }
        
        
        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: scale(0.8) translate3d(0, 50px, 0);
                backdrop-filter: blur(0px);
            }
            to {
                opacity: 1;
                transform: scale(1) translate3d(0, 0, 0);
                backdrop-filter: blur(15px);
            }
        }
        
        @keyframes modalSlideOut {
            from {
                opacity: 1;
                transform: scale(1) translate3d(0, 0, 0);
                backdrop-filter: blur(15px);
            }
            to {
                opacity: 0;
                transform: scale(0.8) translate3d(0, 50px, 0);
                backdrop-filter: blur(0px);
            }
        }
        
        
        @keyframes rotate {
            from {
                transform: rotate(0deg);
            }
            to {
                transform: rotate(360deg);
            }
        }
        
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translate3d(0, 30px, 0);
            }
            to {
                opacity: 1;
                transform: translate3d(0, 0, 0);
            }
        }
        
        @keyframes fadeOutDown {
            from {
                opacity: 1;
                transform: translate3d(0, 0, 0);
            }
            to {
                opacity: 0;
                transform: translate3d(0, 30px, 0);
            }
        }
        
        
        .modal-opening {
            animation: modalSlideIn 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
        }
        
        .modal-closing {
            animation: modalSlideOut 0.4s cubic-bezier(0.55, 0.06, 0.68, 0.19) forwards;
        }
        
        .work-container {
            animation: fadeInUp 0.8s ease-out forwards;
        }
        
        .work-container.fade-out {
            animation: fadeOutDown 0.3s ease-in forwards;
        }
        
        
        
        
        @media (max-width: 1024px) { .profile-content { grid-template-columns: 1fr; gap: 60px; } .profile-text { text-align: center; } .profile-animation { height: 300px; } .outline-shapes { width: 250px; height: 250px; } .competencies-grid { grid-template-columns: 1fr; gap: 30px; } .works-grid { grid-template-columns: repeat(2, 1fr); } }
        @media (max-width: 768px) { 
            .vadya-word { font-size: 8rem; } 
            .design-word { font-size: 2rem; }
            .hero-content { padding: 0 30px; } 
            .profile { padding: 120px 30px; } 
            .competencies { padding: 180px 30px; }
            .competencies-grid { gap: 20px; }
            .works-container { padding: 0 30px; } 
            .contact { padding: 120px 30px; } 
            .works-grid { grid-template-columns: 1fr; } 
            .contact-minimal { flex-direction: column; gap: 30px; }
            /* Стили для ROYAL HORSE на всех мобильных устройствах */
            .modal-gallery.gallery-royalhorse {
                gap: 0 !important;
                padding: 0 !important;
            }
            .modal-gallery.gallery-royalhorse > * {
                margin: 0 !important;
                margin-bottom: 0 !important;
                margin-top: 0 !important;
            }
            .modal-gallery.gallery-royalhorse .work-container {
                gap: 0 !important;
                padding: 0 !important;
                margin: 0 !important;
                min-height: auto !important;
                height: auto !important;
                justify-content: flex-start !important;
            }
            .modal-gallery.gallery-royalhorse .work-container img {
                margin: 0 !important;
                display: block !important;
            }
        }
        @media (max-width: 480px) { .hero-content { padding: 0 20px; } .profile { padding: 120px 20px; } .competencies { padding: 180px 20px; } .competencies-subtitle { font-size: 2.2rem; } .competencies-text { font-size: 1.76rem; line-height: 1.35; margin-bottom: 24px; } .works-container { padding: 0 20px; } .contact { padding: 120px 20px; } }
        
        
        /* Дополнительная мобильная адаптация */
        @media (max-width: 600px) {
            .hero { height: 88vh; }
            .hero-content { padding: 0 16px; }
            /* Сместить DESIGN VADYA ниже */
            .hero-title { margin-top: 12vh; }
            .vadya-word { font-size: clamp(4.5rem, 18vw, 6.5rem); letter-spacing: 0.06em; }
            .design-word { font-size: clamp(2.2rem, 10vw, 3.2rem); letter-spacing: 0.12em; transform: translateX(0); text-align: center; }
            /* Уменьшаем интервал между верхним блоком и профилем */
            .profile { padding: 60px 16px; }
            .profile-title { font-size: clamp(2rem, 6vw, 4rem); margin-bottom: 40px; text-align: center; }
            .profile-text { text-align: left; margin: 0; }
            .profile-text p { font-size: 1.1rem; text-align: left; margin: 0; }
            .competencies { padding: 140px 16px; }
            .works { padding: 120px 0 !important; }
            .works-container { padding: 0 !important; width: 100% !important; max-width: 100% !important; margin: 0 !important; }
            .works-title { padding: 0 16px !important; margin-bottom: 60px !important; }
            .contact { padding: 100px 16px; }
            .works-grid { grid-template-columns: 1fr !important; gap: 0 !important; padding: 0 !important; margin: 0 !important; width: 100% !important; }
            .work-item { aspect-ratio: 3/2 !important; border-radius: 0 !important; width: 100% !important; margin: 0 !important; max-width: 100% !important; }
            .work-image { width: 100% !important; height: 100% !important; object-fit: cover !important; }
            .scroll-indicator { height: 3px; }
            /* Мобильная версия: полностью черный фон + гифка сферы, которая двигается при скролле */
            body { 
                background: #000000 !important;
                background-image: none !important;
                position: relative;
            }
            #mobileBgSphere {
                display: block !important;
                position: fixed;
                top: 0;
                left: 0;
                width: 100vw;
                height: 100vh;
                min-height: 100%;
                background-image: url('assets/img/BG.gif') !important;
                background-repeat: no-repeat !important;
                background-size: 400px 400px !important;
                background-position: center center !important;
                z-index: 0 !important;
                pointer-events: none !important;
                will-change: transform;
                opacity: 1 !important;
                visibility: visible !important;
            }
            /* Поднимаем контент над фоном */
            .hero, .profile, .competencies, .works, .contact {
                position: relative;
                z-index: 1;
            }
            .modal-image { max-width: 100vw; border-radius: 8px; }
            .modal-info { padding: 24px 16px; }
            .modal-title { font-size: 2rem; }
            .modal-description { font-size: 1rem; }
            /* Стили для модальных галерей в мобильной версии */
            .modal-gallery.gallery-main,
            .modal-gallery.gallery-royalhorse {
                gap: 0 !important;
                padding: 0 !important;
            }
            .modal-gallery.gallery-main > *,
            .modal-gallery.gallery-royalhorse > * {
                margin: 0 !important;
                margin-bottom: 0 !important;
                margin-top: 0 !important;
            }
            .modal-gallery.gallery-lumiere,
            .modal-gallery.gallery-ekolife,
            .modal-gallery.gallery-newproject,
            .modal-gallery.gallery-project5 {
                gap: 16px !important;
                padding: 30px 10px !important;
            }
            .modal-gallery.gallery-lumiere .modal-info,
            .modal-gallery.gallery-ekolife .modal-info,
            .modal-gallery.gallery-newproject .modal-info,
            .modal-gallery.gallery-project5 .modal-info {
                padding: 20px 12px !important;
            }
            .modal-gallery.gallery-lumiere .modal-title,
            .modal-gallery.gallery-ekolife .modal-title,
            .modal-gallery.gallery-newproject .modal-title,
            .modal-gallery.gallery-project5 .modal-title {
                font-size: 1.4rem !important;
                margin-bottom: 12px !important;
            }
            .modal-gallery.gallery-lumiere .modal-description,
            .modal-gallery.gallery-ekolife .modal-description,
            .modal-gallery.gallery-newproject .modal-description,
            .modal-gallery.gallery-project5 .modal-description {
                font-size: 0.85rem !important;
                line-height: 1.5 !important;
            }
            .modal-gallery.gallery-main .work-container,
            .modal-gallery.gallery-royalhorse .work-container {
                gap: 0 !important;
                padding: 0 !important;
                margin: 0 !important;
                margin-bottom: 0 !important;
                margin-top: 0 !important;
                min-height: auto !important;
                height: auto !important;
                justify-content: flex-start !important;
            }
            .modal-gallery.gallery-main .work-container img,
            .modal-gallery.gallery-royalhorse .work-container img {
                margin: 0 !important;
                margin-bottom: 0 !important;
                margin-top: 0 !important;
                display: block !important;
                vertical-align: top !important;
            }
            .modal-gallery.gallery-lumiere .work-container,
            .modal-gallery.gallery-ekolife .work-container {
                gap: 16px !important;
                padding: 30px 10px !important;
            }
            .modal-gallery.gallery-newproject .work-container,
            .modal-gallery.gallery-project5 .work-container {
                gap: 16px !important;
                padding: 30px 10px !important;
                min-height: auto !important;
                height: auto !important;
                justify-content: flex-start !important;
            }
            .contact-minimal { gap: 20px; }
            .contact-row { display: grid; grid-template-columns: 1fr; gap: 12px; padding: 0 16px; }
            .contact-right { align-items: center; }
            .contact-center { align-items: center; }
            .contact-note { text-align: center; font-size: 1rem; }
            .contact-link { font-size: 1rem; }
            .loading-gif-img { width: min(180px, 50vw); }
            .made-in { order: 2; font-size: 1.1rem; align-self: flex-start; }
            .visit-indicator { order: 3; align-self: flex-start; }
            /* Корректные переносы и размеры шрифтов в блоке компетенций */
            .competencies-subtitle { font-size: 1.6rem; line-height: 1.3; }
            .competencies-text { font-size: 1.1rem; line-height: 1.45; }
            .nowrap { white-space: nowrap; }
            /* Мобильная гифка-разделитель */
            .mobile-gif-divider {
                display: block;
                width: 100%;
                height: 220px;
                background-image: url('assets/img/BG.gif');
                background-repeat: no-repeat;
                background-size: 240px 240px;
                background-position: center;
                background-attachment: scroll;
                margin: 10px 0 0 0;
            }
            /* Глобально на мобильных: не переносить слова по частям */
            body, p, h1, h2, h3, h4, h5, h6,
            .profile-text p, .competencies-text, .modal-description, .work-title,
            .hero-description, .contact-link, .works-title, .contact-title, .contact-note {
                hyphens: none;
                -webkit-hyphens: none;
                -ms-hyphens: none;
                word-break: keep-all;
                overflow-wrap: normal;
                white-space: normal;
            }
        }
        @media (max-width: 375px) {
            .vadya-word { font-size: clamp(3.4rem, 16vw, 5.2rem); }
            .design-word { font-size: clamp(1.8rem, 9.5vw, 2.6rem); }
            .profile { padding: 80px 14px; }
            .competencies { padding: 120px 14px; }
            .contact { padding: 80px 14px; }
            body { 
                background: #000000 !important;
                background-image: none !important;
            }
            #mobileBgSphere {
                background-size: 320px 320px;
            }
        }
        
        /* Планшеты и крупные десктопы */
        @media (max-width: 1024px) {
            .works-grid { grid-template-columns: repeat(2, 1fr); gap: 28px; }
            .works-container { padding: 0 40px; }
            .contact-row { padding: 0 40px; }
        }

        /* Дополнительная адаптация для разных масштабов/ширин */
        @media (max-width: 1200px) {
            .works-container { padding: 0 40px; }
        }
        @media (max-width: 900px) {
            .competencies-grid { grid-template-columns: 1fr; gap: 36px; justify-items: center; }
            .competencies-section { max-width: 780px; text-align: left; }
        }
        @media (max-width: 700px) {
            .competencies-section { max-width: 640px; }
        }
        @media (max-width: 560px) {
            .competencies-section { max-width: 520px; }
        }

        /* Очень большие экраны */
        @media (min-width: 1440px) {
            .works-container { padding: 0 80px; }
            .contact-row { padding: 0 80px; }
            .works-grid { gap: 48px; }
        }
        
        /* Гарантируем отсутствие горизонтального скролла и резиновость изображений */
        img, video { max-width: 100%; height: auto; }
        .works-container, .profile, .competencies, .contact { width: 100%; }
        /* Глобальное переопределение: весь текст белого цвета */
        body, h1, h2, h3, h4, h5, h6, p, span, a, li,
        .hero-subtitle, .hero-description,
        .profile-title, .profile-text p,
        .competencies-title, .competencies-subtitle, .competencies-text,
        .works-title, .work-title,
        .contact-title, .contact-link,
        .loading-text, .modal-title, .modal-description {
            color: #ffffff !important;
        }

        /* Перенос строк по правилам русского языка на всём сайте */
        body, p, h1, h2, h3, h4, h5, h6,
        .profile-text p, .competencies-text, .modal-description, .work-title,
        .hero-description, .contact-link, .works-title, .contact-title {
            hyphens: auto;              /* включаем переносы */
            -webkit-hyphens: auto;
            -ms-hyphens: auto;
            word-break: normal;         /* не ломать слова произвольно */
            overflow-wrap: break-word;  /* переносить длинные слова при необходимости */
            white-space: normal;
        }

        /* Ранее фиксированный блок контактов отключён (возвращён в поток) */

        /* Фиксированный затемняющий слой за текстом */
        #bgDimmer {
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.5);
            opacity: 0;
            transition: opacity 220ms ease;
            pointer-events: none;
            z-index: 1;
        }
        #bgDimmer.active { opacity: 1; }

        /* Поднимаем нужные секции над затемнением */
        .profile, .competencies { position: relative; z-index: 2; }
    </style>
</head>
<body>
    <!-- Экран загрузки -->
    <div id="loadingScreen" class="loading-screen">
        <img class="loading-gif-img" src="assets/img/GGGT.gif" alt="Loading" onerror="this.onerror=null; this.src='GGGT.gif';" />
        </div>
    
    <div class="scroll-indicator"><div class="scroll-progress" id="scrollProgress"></div></div>
    <div id="bgDimmer" aria-hidden="true"></div>
    <!-- Мобильный фоновый элемент со сферой -->
    <div id="mobileBgSphere" aria-hidden="true"></div>
    
    <section class="hero" id="home">
        <div class="hero-content">
            <h1 class="hero-title">
                <div class="design-word">
                    <span class="letter">D</span><span class="letter">E</span><span class="letter">S</span><span class="letter">I</span><span class="letter">G</span><span class="letter">N</span>
                </div>
                <div class="vadya-word">
                    <span class="letter">V</span><span class="letter">A</span><span class="letter">D</span><span class="letter">Y</span><span class="letter">A</span>
                </div>
            </h1>
        </div>
    </section>
    <section class="profile" id="profile">
        <h2 class="profile-title">ПРОФИЛЬ</h2>
        <div class="profile-content">
            <div class="profile-text">
                <p>Графический дизайнер с 2-летним стажем работы в создании визуального контента для брендов и маркетинговых кампаний. Специализируюсь на разработке фирменного стиля, создании рекламных материалов.</p>
            </div>
        </div>
    </section>
    <section class="competencies" id="competencies">
        <h2 class="competencies-title">ПРОФЕССИОНАЛЬНЫЕ <span class="nowrap">НАВЫКИ</span></h2>
        <div class="competencies-content">
            <div class="competencies-grid">
                <div class="competencies-section">
                    <p class="competencies-text">Разработка визуальных концепций для различных медиа</p>
                    <p class="competencies-text">Проектирование пользовательских интерфейсов<br>с учетом современных трендов</p>
                    <p class="competencies-text">Брендинг и айдентика с продуманной системой элементов</p>
                    <p class="competencies-text">Adobe Creative Suite (Photoshop, Illustrator, After Effects)</p>
                    <p class="competencies-text">Figma и инструменты для веб-дизайна</p>
                </div>
                <div class="competencies-section">
                    <p class="competencies-text">UX/UI дизайн с фокусом на пользовательский опыт</p>
                    <p class="competencies-text">Внимание к деталям на всех этапах работы</p>
                    <p class="competencies-text">Понимание психологии восприятия визуальной информации</p>
                    <p class="competencies-text">Инновационные решения в рамках поставленных задач</p>
                    <p class="competencies-text">Эффективная коммуникация с клиентами и командой</p>
                </div>
            </div>
        </div>
    </section>
    <section class="works" id="works">
        <div class="works-container">
            <h2 class="works-title">РАБОТЫ</h2>
            <div class="works-grid">
                <div class="work-item" data-work="1">
                    <img src="works/SPACE.jpg" alt="SPACE" class="work-image" loading="lazy">
                    <div class="work-overlay">
                        <h3 class="work-title">МОИ РАБОТЫ<br>НАЖМИ ДЛЯ ПРОСМОТРА</h3>
                    </div>
                </div>
                <div class="work-item" data-work="2">
                    <img src="works/Lumiere Backdrop.jpg" alt="Lumiere Backdrop" class="work-image backdrop-image" loading="lazy">
                    <div class="work-overlay">
                        <h3 class="work-title">LUMIERE<br>НАЖМИ ДЛЯ ПРОСМОТРА</h3>
                    </div>
                </div>
                <div class="work-item" data-work="3">
                    <img src="12345/EkoLife Cup.jpg?v=2" alt="EkoLife Cup" class="work-image cup-image" loading="lazy">
                    <div class="work-overlay">
                        <h3 class="work-title">EKOLIFE<br>НАЖМИ ДЛЯ ПРОСМОТРА</h3>
                    </div>
                </div>
                <div class="work-item" data-work="4">
                    <img src="123456/UPDUTY LOGO.jpg" alt="UPDUTY PROJECT" class="work-image" loading="lazy">
                    <div class="work-overlay">
                        <h3 class="work-title">UPDUTY<br>НАЖМИ ДЛЯ ПРОСМОТРА</h3>
                    </div>
                </div>
                <div class="work-item" data-work="5">
                    <img src="1234567/LOGO GHY.jpg" alt="GHY PROJECT" class="work-image" loading="lazy">
                    <div class="work-overlay">
                        <h3 class="work-title">GHY<br>НАЖМИ ДЛЯ ПРОСМОТРА</h3>
                    </div>
                </div>
                <div class="work-item" data-work="6">
                    <img src="123456789/Royal Horse Logo 2.jpg" alt="Royal Horse Logo" class="work-image" loading="lazy">
                    <div class="work-overlay">
                        <h3 class="work-title">ROYAL HORSE<br>НАЖМИ ДЛЯ ПРОСМОТРА</h3>
                    </div>
                </div>
            </div>
            <div class="view-all">
            </div>
        </div>
    </section>
    
    
    <!-- Модальное окно для просмотра работ -->
    <div id="workModal" class="work-modal">
        <div class="modal-content">
            <span class="modal-close">&times;</span>
            <div class="modal-nav">
                <button class="modal-prev" id="modalPrev">‹</button>
                <button class="modal-next" id="modalNext">›</button>
            </div>
            <div class="modal-gallery">
                <img id="modalImage" src="" alt="" class="modal-image">
                <div class="modal-info">
                    <h3 id="modalTitle" class="modal-title"></h3>
                    <p id="modalDescription" class="modal-description"></p>
                    <div class="modal-counter">
                        <span id="modalCounter">1 / 5</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // Экран загрузки
        function initLoadingScreen(duration = 2000) {
            const loadingScreen = document.getElementById('loadingScreen');
            const body = document.body;
            
            // Показываем экран загрузки на указанное время
            setTimeout(() => {
                loadingScreen.classList.add('fade-out');
                
                // Показываем основной контент после завершения анимации загрузки
                setTimeout(() => {
                    body.classList.add('loaded');
                    
                    
                    // Удаляем экран загрузки из DOM после анимации
                    setTimeout(() => {
                        if (loadingScreen && loadingScreen.parentNode) {
                            loadingScreen.parentNode.removeChild(loadingScreen);
                        }
                    }, 500); // Небольшая задержка для плавности
                }, 400); // Половина времени transition для плавности
            }, duration);
        }
        
        // Инициализация экрана загрузки (всегда показываем 5 секунд)
        document.addEventListener('DOMContentLoaded', function() {
            initLoadingScreen(5000);
        });
        
        // Оптимизированный скролл индикатор с debounce
        const updateScrollProgress = debounce(() => {
            const scrollTop = window.pageYOffset;
            const docHeight = document.body.offsetHeight - window.innerHeight;
            const scrollPercent = (scrollTop / docHeight) * 100;
            const progressBar = document.getElementById('scrollProgress');
            if (progressBar) {
                progressBar.style.width = scrollPercent + '%';
            }
        }, 10);
        
        window.addEventListener('scroll', updateScrollProgress, { passive: true });

        // Мобильная версия: синхронизация фоновой сферы со скроллом через transform
        (function initMobileBgScroll(){
            function initSphere() {
                const sphere = document.getElementById('mobileBgSphere');
                if (!sphere) return;
                
                // Проверяем мобильное устройство множественными способами
                const screenWidth = window.innerWidth || document.documentElement.clientWidth || screen.width;
                const screenHeight = window.innerHeight || document.documentElement.clientHeight || screen.height;
                const minDimension = Math.min(screenWidth, screenHeight);
                const isMobile = screenWidth <= 1024 || minDimension <= 768;
                
                if (!isMobile) {
                    sphere.style.display = 'none';
                    return;
                }
                
                // ПРИНУДИТЕЛЬНО применяем все стили для гарантированного отображения
                sphere.style.setProperty('display', 'block', 'important');
                sphere.style.setProperty('position', 'fixed', 'important');
                sphere.style.setProperty('top', '0', 'important');
                sphere.style.setProperty('left', '0', 'important');
                sphere.style.setProperty('width', '100vw', 'important');
                sphere.style.setProperty('height', '100vh', 'important');
                sphere.style.setProperty('background-image', "url('assets/img/BG.gif')", 'important');
                sphere.style.setProperty('background-repeat', 'no-repeat', 'important');
                sphere.style.setProperty('background-size', '400px 400px', 'important');
                sphere.style.setProperty('background-position', 'center center', 'important');
                sphere.style.setProperty('z-index', '0', 'important');
                sphere.style.setProperty('pointer-events', 'none', 'important');
                sphere.style.setProperty('opacity', '1', 'important');
                sphere.style.setProperty('visibility', 'visible', 'important');
            
            let ticking = false;
            const initialOffset = window.innerHeight * 0.3; // Начальная позиция 30vh от верха
            
            function updateSpherePosition(){
                const scrollY = window.pageYOffset || window.scrollY;
                // Смещаем сферу вместе со скроллом (0.8 = скорость движения, можно менять)
                const translateY = initialOffset + (scrollY * 0.8);
                sphere.style.transform = `translate3d(0, ${translateY}px, 0)`;
                ticking = false;
            }
            
            function requestTick(){
                if (!ticking) {
                    requestAnimationFrame(updateSpherePosition);
                    ticking = true;
                }
            }
            
            // Обновляем высоту элемента, чтобы покрыть весь скролл
            function updateHeight(){
                const docHeight = Math.max(
                    document.body.scrollHeight,
                    document.body.offsetHeight,
                    document.documentElement.clientHeight,
                    document.documentElement.scrollHeight,
                    document.documentElement.offsetHeight
                );
                sphere.style.height = docHeight + 'px';
            }
            
                window.addEventListener('scroll', requestTick, { passive: true });
                window.addEventListener('resize', () => { 
                    updateHeight(); 
                    updateSpherePosition();
                    initSphere(); // Повторно инициализируем при изменении размера
                }, { passive: true });
                
                // Инициализация
                updateHeight();
                updateSpherePosition();
            }
            
            // Инициализируем сразу
            initSphere();
            
            // Также инициализируем после полной загрузки DOM
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', initSphere);
            } else {
                initSphere();
            }
            
            // Инициализируем при изменении ориентации
            window.addEventListener('orientationchange', function() {
                setTimeout(initSphere, 100);
            });
        })();

        // Индикатор посещений: полностью локальный (localStorage) — число меняется при каждом обновлении
        (function initVisitCounter(){
            const container = document.getElementById('visitIndicator');
            const textNode = container ? container.querySelector('span:last-child') : null;
            if (!container || !textNode) return;

            const storageKey = 'local-visit-count';
            let value = 0;
            try {
                value = Number(localStorage.getItem(storageKey) || '0');
            } catch(_) { value = 0; }
            value += 1;
            try { localStorage.setItem(storageKey, String(value)); } catch(_){ }
            textNode.textContent = 'Посещений: ' + value.toLocaleString('ru-RU');
        })();

        // Десктоп: красивый след за курсором
        (function initCursorTrail(){
            const isDesktop = window.matchMedia('(pointer:fine) and (min-width: 900px)').matches;
            if (!isDesktop) return;

            const canvas = document.createElement('canvas');
            Object.assign(canvas.style, {position:'fixed', inset:'0', pointerEvents:'none', zIndex: 9999});
            document.body.appendChild(canvas);
            const ctx = canvas.getContext('2d');

            function resize(){ canvas.width = window.innerWidth; canvas.height = window.innerHeight; }
            window.addEventListener('resize', resize); resize();

            const particles = [];
            function addParticle(x, y){
                particles.push({x, y, vx:(Math.random()-0.5)*0.7, vy:(Math.random()-0.5)*0.7, life: 1});
            }
            window.addEventListener('mousemove', e => {
                for (let i=0;i<4;i++) addParticle(e.clientX, e.clientY);
            }, {passive:true});

            function tick(){
                ctx.clearRect(0,0,canvas.width,canvas.height);
                for (let i=particles.length-1;i>=0;i--){
                    const p = particles[i];
                    p.x += p.vx; p.y += p.vy; p.life -= 0.016;
                    if (p.life <= 0) { particles.splice(i,1); continue; }
                    const alpha = Math.max(p.life, 0);
                    ctx.beginPath();
                    ctx.arc(p.x, p.y, 2.2, 0, Math.PI*2);
                    ctx.fillStyle = 'rgba(255,255,255,'+alpha+')';
                    ctx.shadowColor = 'rgba(255,255,255,'+alpha+')';
                    ctx.shadowBlur = 8;
                    ctx.fill();
                }
                requestAnimationFrame(tick);
            }
            tick();
        })();

        // Динамическое затемнение фона за секциями "ПРОФИЛЬ" и "КЛЮЧЕВЫЕ КОМПЕТЕНЦИИ"
        (function initSectionDimmer(){
            const dimmer = document.getElementById('bgDimmer');
            if (!dimmer) return;
            const targets = [
                document.querySelector('.profile'),
                document.querySelector('.competencies')
            ].filter(Boolean);
            if (targets.length === 0) return;

            let activeCount = 0;
            const setActive = (isActive) => {
                activeCount += isActive ? 1 : -1;
                if (activeCount < 0) activeCount = 0;
                if (activeCount > 0) dimmer.classList.add('active');
                else dimmer.classList.remove('active');
            };

            const obs = new IntersectionObserver((entries) => {
                entries.forEach(e => {
                    if (e.intersectionRatio >= 0.25) {
                        if (!e.target._dimmed) {
                            e.target._dimmed = true;
                            setActive(true);
                        }
                    } else {
                        if (e.target._dimmed) {
                            e.target._dimmed = false;
                            setActive(false);
                        }
                    }
                });
            }, { threshold: [0, 0.25, 0.5, 1] });

            targets.forEach(t => obs.observe(t));
        })();
        
        document.querySelectorAll('a[href^="#"]').forEach(anchor => { anchor.addEventListener('click', function (e) { e.preventDefault(); const target = document.querySelector(this.getAttribute('href')); if (target) { target.scrollIntoView({ behavior: 'smooth', block: 'start' }); } }); });
        const observerOptions = { 
            threshold: [0, 0.5], 
            rootMargin: '0px 0px -50px 0px' 
        };
        const observer = new IntersectionObserver((entries) => { 
            entries.forEach(entry => { 
                if (entry.isIntersecting) { 
                    entry.target.classList.add('visible'); 
                } else {
                    entry.target.classList.remove('visible');
                }
            }); 
        }, observerOptions);
        
        
        // Функция создания span элементов для всех букв
        function createLetterSpans() {
            // Возвращаем оборачивание текста в span .letter для эффекта лупы,
            // но исключаем абзацы профиля, чтобы не ломать переносы в этом блоке
            const textSelectors = [
                '.hero-title',
                '.hero-subtitle', 
                '.hero-description',
                '.profile-title',
                '.profile-text h3',
                // Важно: НЕ трогаем заголовок и тексты компетенций, чтобы сохранить переносы
                // '.competencies-title',
                // '.competencies-subtitle',
                // '.competencies-text',
                '.works-title',
                '.work-title',
                '.contact-title',
                '.contact-label',
                '.contact-value',
                '.social-item',
            ];
            
            textSelectors.forEach(selector => {
                const elements = document.querySelectorAll(selector);
                elements.forEach(element => {
                    if (!element.classList.contains('letters-processed')) {
                        wrapTextInSpans(element);
                        element.classList.add('letters-processed');
                    }
                });
            });
        }
        
        // Функция обертывания текста в span элементы
        function wrapTextInSpans(element) {
            const walker = document.createTreeWalker(
                element,
                NodeFilter.SHOW_TEXT,
                null,
                false
            );
            
            const textNodes = [];
            let node;
            while (node = walker.nextNode()) {
                if (node.textContent.trim()) {
                    textNodes.push(node);
                }
            }
            
            textNodes.forEach(textNode => {
                const text = textNode.textContent;
                const parent = textNode.parentNode;
                
                // Создаем span для каждой буквы
                const spans = text.split('').map(char => {
                    const span = document.createElement('span');
                    span.className = 'letter';
                    span.textContent = char === ' ' ? '\u00A0' : char; // неразрывный пробел
                    return span;
                });
                
                // Заменяем текстовый узел на span элементы
                spans.forEach(span => parent.insertBefore(span, textNode));
                parent.removeChild(textNode);
            });
        }
        
        // Функция инициализации эффекта лупы для всех текстовых элементов
        function initMagnifierEffect() {
            // Создаем span элементы для всех букв на сайте
            createLetterSpans();
            
            const letters = document.querySelectorAll('.letter');
            console.log('Initializing magnifier effect for', letters.length, 'letters');
            
            letters.forEach(letter => {
                // Удаляем старые обработчики если они есть
                letter.removeEventListener('mouseenter', letter._magnifierEnter);
                letter.removeEventListener('mouseleave', letter._magnifierLeave);
                
                // Создаем новые обработчики
                letter._magnifierEnter = function() {
                    console.log('Mouse enter on letter:', this.textContent);
                    
                    // Определяем родительский контейнер для изоляции эффекта
                    const parentContainer = this.closest('.hero-title, .hero-subtitle, .hero-description, .profile-title, .competencies-title, .competencies-subtitle, .competencies-text, .works-title, .work-title, .contact-title, .contact-label, .contact-value, .social-grid');
                    
                    if (parentContainer) {
                    // Убираем эффект с соседних букв в том же контейнере
                    parentContainer.querySelectorAll('.letter').forEach(l => {
                        if (l !== this) {
                            l.style.transform = 'scale(1)';
                            l.style.textShadow = '';
                            l.style.zIndex = '1';
                            l.style.color = '';
                        }
                    });
                    
                    // Применяем эффект к текущей букве
                    this.style.transform = 'scale(1.8)';
                    this.style.textShadow = '0 0 12px rgba(255, 255, 255, 0.8)';
                    this.style.zIndex = '100';
                    this.style.color = '#fff';
                    
                    // Применяем частичный эффект к соседним буквам
                    const nextLetter = this.nextElementSibling;
                    const prevLetter = this.previousElementSibling;
                    
                    if (nextLetter && nextLetter.classList.contains('letter')) {
                        nextLetter.style.transform = 'scale(1.15)';
                        nextLetter.style.textShadow = '0 0 6px rgba(255, 255, 255, 0.6)';
                        nextLetter.style.zIndex = '50';
                        nextLetter.style.color = '#fff';
                    }
                    
                    if (prevLetter && prevLetter.classList.contains('letter')) {
                        prevLetter.style.transform = 'scale(1.15)';
                        prevLetter.style.textShadow = '0 0 6px rgba(255, 255, 255, 0.6)';
                        prevLetter.style.zIndex = '50';
                        prevLetter.style.color = '#fff';
                        }
                    }
                };
                
                letter._magnifierLeave = function() {
                    console.log('Mouse leave on letter:', this.textContent);
                    
                    // Возвращаем все буквы в том же контейнере к исходному состоянию
                    const parentContainer = this.closest('.hero-title, .hero-subtitle, .hero-description, .profile-title, .competencies-title, .competencies-subtitle, .competencies-text, .works-title, .work-title, .contact-title, .contact-label, .contact-value, .social-grid');
                    
                    if (parentContainer) {
                        parentContainer.querySelectorAll('.letter').forEach(l => {
                            l.style.transform = '';
                            l.style.textShadow = '';
                            l.style.zIndex = '';
                            l.style.color = '';
                        });
                    }
                };
                
                // Добавляем обработчики
                letter.addEventListener('mouseenter', letter._magnifierEnter);
                letter.addEventListener('mouseleave', letter._magnifierLeave);
            });
        }
        
        // JavaScript включен для всех текстовых элементов
        initMagnifierEffect();
        // Для блока профиля удаляем ранее добавленные спаны, если они были
        (function cleanupLetters(){
            // Очищаем только абзацы профиля, оставляя .letter в остальных местах для лупы
            document.querySelectorAll('.profile-text p .letter').forEach(span => {
                const parent = span.parentNode;
                const text = span.textContent;
                const textNode = document.createTextNode(text);
                parent.insertBefore(textNode, span);
                span.remove();
            });
        })();
        
        // Инициализируем после загрузки DOM
        document.addEventListener('DOMContentLoaded', function() {
            initMagnifierEffect();
        });
        
        // Инициализируем после завершения анимаций
        setTimeout(function() {
            initMagnifierEffect();
        }, 3000);
        
        
        
        
        
        
        // Debounce функция для оптимизации
        function debounce(func, wait) {
            let timeout;
            return function executedFunction(...args) {
                const later = () => {
                    clearTimeout(timeout);
                    func(...args);
                };
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
            };
        }
        
        
        
        // Интерактивная галерея работ
        function initWorksGallery() {
            const workItem = document.querySelector('.work-item[data-work="1"]');
            const modal = document.getElementById('workModal');
            const modalGallery = document.querySelector('.modal-gallery');
            const modalClose = document.querySelector('.modal-close');
            const modalPrev = document.getElementById('modalPrev');
            const modalNext = document.getElementById('modalNext');
            
            // Массив всех работ
            const allWorks = [
                {
                    title: 'SPACE',
                    image: 'works/SPACE.jpg'
                },
                {
                    title: 'ART BILLBOARD',
                    image: 'works/ARTBillboard.jpg'
                },
                {
                    title: 'ART LOGO',
                    image: 'works/ARTLogo.jpg'
                },
                {
                    title: 'EXHIBITION',
                    image: 'works/Exhibition.jpg'
                },
                {
                    title: 'GRAPHIC DESIGN',
                    image: 'works/Gdesign.jpg'
                }
            ];
            
            // Массив работ Lumiere
            const lumiereWorks = [
                {
                    title: 'LUMIERE LOGO',
                    description: 'Создание логотипа для бренда Lumiere с акцентом на элегантность и современность.',
                    image: 'works/Lumiere Logo.jpg'
                },
                {
                    title: 'LUMIERE BACKDROP',
                    description: 'Дизайн фонового изображения для презентации бренда с фокусом на визуальную привлекательность.',
                    image: 'works/Lumiere Backdrop.jpg'
                },
                {
                    title: 'LUMIERE BAG',
                    description: 'Дизайн упаковки для продуктов бренда с современным подходом к брендингу.',
                    image: 'works/Lumiere Bag.jpg'
                },
                {
                    title: 'LUMIERE BOX',
                    description: 'Создание дизайна коробки для упаковки с акцентом на премиальность и качество.',
                    image: 'works/Lumiere Box.jpg'
                }
            ];

            const ekoLifeWorks = [
                {
                    title: 'EKOLIFE LOGO',
                    description: 'Создание логотипа для экологического бренда EkoLife с акцентом на природность и устойчивость.',
                    image: '12345/EkoLife Logo.jpg?v=2'
                },
                {
                    title: 'EKOLIFE CHEMISTRY',
                    description: 'Дизайн химической формулы для демонстрации экологически чистых компонентов продукта.',
                    image: '12345/EkoLife Chemistry.jpg?v=2'
                },
                {
                    title: 'EKOLIFE CUP',
                    description: 'Дизайн экологической чашки с фокусом на переработку и экологичность материалов.',
                    image: '12345/EkoLife Cup.jpg?v=2'
                },
                {
                    title: 'EKOLIFE PACKAGE',
                    description: 'Создание дизайна упаковки с акцентом на экологичность и минимализм.',
                    image: '12345/EkoLife Package.jpg?v=2'
                },
                {
                    title: 'EKOLIFE PACKAGE 2',
                    description: 'Альтернативный дизайн упаковки с современным подходом к экологическому брендингу.',
                    image: '12345/EkoLife Package 2.jpg?v=2'
                }
            ];

            // Массив работ проекта UPDUTY
            const newProjectWorks = [
                {
                    title: 'UPDUTY LOGO',
                    description: 'Создание основного логотипа для бренда UPDUTY с современным дизайном и узнаваемостью.',
                    image: '123456/UPDUTY LOGO.jpg'
                },
                {
                    title: 'UPDUTY LOGO 2',
                    description: 'Альтернативный вариант логотипа UPDUTY с акцентом на минимализм и элегантность.',
                    image: '123456/UPDUTY LOGO 2.jpg'
                },
                {
                    title: 'UPDUTY BUSINESS CARD',
                    description: 'Дизайн визитной карточки с фирменным стилем UPDUTY и профессиональным подходом.',
                    image: '123456/UPDUTY BUSINESS CARD.jpg'
                },
                {
                    title: 'UPDUTY FOLDER',
                    description: 'Создание дизайна папки для документов с брендингом UPDUTY.',
                    image: '123456/UPDUTY FOLDER.jpg'
                },
                {
                    title: 'UPDUTY BADGE',
                    description: 'Дизайн значка/бейджа с логотипом UPDUTY для корпоративного использования.',
                    image: '123456/UPDUTY BADGE.jpg'
                },
                {
                    title: 'UPDUTY HOODIES',
                    description: 'Дизайн толстовки с принтом UPDUTY для мерчандайзинга и корпоративного стиля.',
                    image: '123456/UPDUTY HOODIES.jpg'
                },
                {
                    title: 'UPDUTY SIGNBOARD',
                    description: 'Создание дизайна вывески для офиса или торговой точки UPDUTY.',
                    image: '123456/UPDUTY SIGNBOARD.jpg'
                },
                {
                    title: 'UPDUTY WEBSITE',
                    description: 'Дизайн веб-сайта для бренда UPDUTY с современным интерфейсом и пользовательским опытом.',
                    image: '123456/UPDUTY WEBSITE.jpg'
                }
            ];

            // Массив работ проекта GHY
            const project5Works = [
                {
                    title: 'GHY LOGO',
                    description: 'Создание основного логотипа для бренда GHY с современным дизайном и узнаваемостью.',
                    image: '1234567/LOGO GHY.jpg'
                },
                {
                    title: 'GHY LETTER',
                    description: 'Дизайн фирменного письма с брендингом GHY и профессиональным подходом.',
                    image: '1234567/Letter GHY.jpg'
                },
                {
                    title: 'GHY VISIT CARD',
                    description: 'Создание визитной карточки с фирменным стилем GHY и элегантным дизайном.',
                    image: '1234567/Visit Card GHY.jpg'
                },
                {
                    title: 'GHY BADGE & WEB',
                    description: 'Разработка значка и веб-дизайна для бренда GHY с акцентом на современность.',
                    image: '1234567/BADGE&WEB GHY.jpg'
                }
            ];

            // Массив работ проекта Royal Horse
            const royalHorseWorks = [
                {
                    title: 'ROYAL HORSE LOGO',
                    image: '123456789/Royal Horse Logo 2.jpg'
                },
                {
                    title: 'ROYAL HORSE ОПИСАНИЕ',
                    image: '123456789/Royal Horse описание.jpg'
                },
                {
                    title: 'ROYAL HORSE ОПИСАНИЕ 2',
                    image: '123456789/Royal Horse описание 2.jpg'
                },
                {
                    title: 'ROYAL HORSE ФИНАЛ',
                    image: '123456789/Royal Horse конец.png'
                }
            ];
            
            let currentWorkIndex = 0;
            let isClosing = false;
            let currentWorksArray = allWorks;
            let currentGalleryType = 'main'; // 'main', 'lumiere' или 'ekolife'
            
            // Обработчик клика на левый верхний квадратик
            workItem.addEventListener('click', function() {
                openFullscreenGallery();
            });
            
            // Обработчик клика на второй квадратик (Lumiere)
            const workItem2 = document.querySelector('.work-item[data-work="2"]');
            workItem2.addEventListener('click', function() {
                openLumiereGallery();
            });

            // Обработчик клика на третий квадратик (EkoLife)
            const workItem3 = document.querySelector('.work-item[data-work="3"]');
            workItem3.addEventListener('click', function() {
                openEkoLifeGallery();
            });

            // Обработчик клика на четвертый квадратик (Новый проект)
            const workItem4 = document.querySelector('.work-item[data-work="4"]');
            workItem4.addEventListener('click', function() {
                openNewProjectGallery();
            });

            // Обработчик клика на пятый квадратик (GHY)
            const workItem5 = document.querySelector('.work-item[data-work="5"]');
            workItem5.addEventListener('click', function() {
                openProject5Gallery();
            });

            // Обработчик клика на шестой квадратик (Royal Horse)
            const workItem6 = document.querySelector('.work-item[data-work="6"]');
            workItem6.addEventListener('click', function() {
                openRoyalHorseGallery();
            });
            
            // Функция открытия полноэкранной галереи
            function openFullscreenGallery() {
                modal.style.display = 'block';
                document.body.style.overflow = 'hidden';
                
                // Устанавливаем текущий массив работ и тип галереи
                currentWorksArray = allWorks;
                currentGalleryType = 'main';
                
                // Сбрасываем флаг закрытия
                isClosing = false;
                
                // Сбрасываем позицию скролла на самый верх
                modal.scrollTop = 0;
                
                // Сбрасываем индекс текущей работы
                currentWorkIndex = 0;
                
                // Добавляем класс для анимации открытия
                modal.classList.add('modal-opening');
                
                // Создаем все элементы галереи
                createGalleryContent(allWorks);
            }
            
            // Функция открытия галереи Lumiere
            function openLumiereGallery() {
                modal.style.display = 'block';
                document.body.style.overflow = 'hidden';
                
                // Устанавливаем текущий массив работ и тип галереи
                currentWorksArray = lumiereWorks;
                currentGalleryType = 'lumiere';
                
                // Сбрасываем флаг закрытия
                isClosing = false;
                
                // Сбрасываем позицию скролла на самый верх
                modal.scrollTop = 0;
                
                // Сбрасываем индекс текущей работы
                currentWorkIndex = 0;
                
                // Добавляем класс для анимации открытия
                modal.classList.add('modal-opening');
                
                // Создаем все элементы галереи Lumiere
                createGalleryContent(lumiereWorks);
            }

            // Функция открытия галереи EkoLife
            function openEkoLifeGallery() {
                modal.style.display = 'block';
                document.body.style.overflow = 'hidden';
                
                // Устанавливаем текущий массив работ и тип галереи
                currentWorksArray = ekoLifeWorks;
                currentGalleryType = 'ekolife';
                
                // Сбрасываем флаг закрытия
                isClosing = false;
                
                // Сбрасываем позицию скролла на самый верх
                modal.scrollTop = 0;
                
                // Сбрасываем индекс текущей работы
                currentWorkIndex = 0;
                
                // Добавляем класс для анимации открытия
                modal.classList.add('modal-opening');
                
                // Создаем все элементы галереи EkoLife
                createGalleryContent(ekoLifeWorks);
            }

            // Функция открытия галереи нового проекта
            function openNewProjectGallery() {
                modal.style.display = 'block';
                document.body.style.overflow = 'hidden';
                
                // Устанавливаем текущий массив работ и тип галереи
                currentWorksArray = newProjectWorks;
                currentGalleryType = 'newproject';
                
                // Сбрасываем флаг закрытия
                isClosing = false;
                
                // Сбрасываем позицию скролла на самый верх
                modal.scrollTop = 0;
                
                // Сбрасываем индекс текущей работы
                currentWorkIndex = 0;
                
                // Добавляем класс для анимации открытия
                modal.classList.add('modal-opening');
                
                // Создаем все элементы галереи нового проекта
                createGalleryContent(newProjectWorks);
            }

            // Функция открытия галереи проекта GHY
            function openProject5Gallery() {
                modal.style.display = 'block';
                document.body.style.overflow = 'hidden';
                
                // Устанавливаем текущий массив работ и тип галереи
                currentWorksArray = project5Works;
                currentGalleryType = 'project5';
                
                // Сбрасываем флаг закрытия
                isClosing = false;
                
                // Сбрасываем позицию скролла на самый верх
                modal.scrollTop = 0;
                
                // Сбрасываем индекс текущей работы
                currentWorkIndex = 0;
                
                // Добавляем класс для анимации открытия
                modal.classList.add('modal-opening');
                
                // Создаем все элементы галереи проекта GHY
                createGalleryContent(project5Works);
            }

            // Функция открытия галереи проекта Royal Horse
            function openRoyalHorseGallery() {
                modal.style.display = 'block';
                document.body.style.overflow = 'hidden';
                
                // Устанавливаем текущий массив работ и тип галереи
                currentWorksArray = royalHorseWorks;
                currentGalleryType = 'royalhorse';
                
                // Сбрасываем флаг закрытия
                isClosing = false;
                
                // Сбрасываем позицию скролла на самый верх
                modal.scrollTop = 0;
                
                // Сбрасываем индекс текущей работы
                currentWorkIndex = 0;
                
                // Добавляем класс для анимации открытия
                modal.classList.add('modal-opening');
                
                // Создаем все элементы галереи проекта Royal Horse
                createGalleryContent(royalHorseWorks);
            }
            
            // Функция создания контента галереи
            function createGalleryContent(worksArray) {
                modalGallery.innerHTML = '';
                
                // Проверяем, является ли это галереей Royal Horse
                const isRoyalHorse = currentGalleryType === 'royalhorse';
                
                // Определяем мобильное устройство ПЕРЕД применением стилей
                // Множественная проверка для надежности - проверяем оба значения
                const screenWidth = window.innerWidth || document.documentElement.clientWidth || screen.width;
                const screenHeight = window.innerHeight || document.documentElement.clientHeight || screen.height;
                const isMobileMatch = window.matchMedia('(max-width: 1024px)').matches;
                const isMobileByWidth = screenWidth <= 1024;
                const isMobileByHeight = screenHeight <= 1024 && screenWidth <= 1200;
                // В вертикальной ориентации проверяем по меньшей стороне
                const minDimension = Math.min(screenWidth, screenHeight);
                const isMobile = isMobileMatch || isMobileByWidth || isMobileByHeight || minDimension <= 768;
                
                // Удаляем все классы галереи и добавляем нужный
                modalGallery.classList.remove('gallery-main', 'gallery-royalhorse', 'gallery-lumiere', 'gallery-ekolife', 'gallery-newproject', 'gallery-project5');
                modalGallery.classList.add('gallery-' + currentGalleryType);
                
                // Применяем стили к modalGallery напрямую для мобильных устройств
                // Для ROYAL HORSE на всех мобильных устройствах всегда без отступов
                if (isRoyalHorse && isMobile) {
                    modalGallery.style.setProperty('gap', '0', 'important');
                    modalGallery.style.setProperty('padding', '0', 'important');
                } else if (isMobile && (currentGalleryType === 'main')) {
                    modalGallery.style.setProperty('gap', '0', 'important');
                    modalGallery.style.setProperty('padding', '0', 'important');
                } else if (isMobile && (currentGalleryType === 'newproject' || currentGalleryType === 'project5' || currentGalleryType === 'ekolife' || currentGalleryType === 'lumiere')) {
                    modalGallery.style.setProperty('gap', '16px', 'important');
                    modalGallery.style.setProperty('padding', '30px 10px', 'important');
                } else if (isMobile) {
                    modalGallery.style.setProperty('gap', '16px', 'important');
                    modalGallery.style.setProperty('padding', '30px 10px', 'important');
                } else {
                    // ПК версия - стандартные стили (только для НЕ мобильных)
                    if (!isRoyalHorse) {
                        modalGallery.style.removeProperty('gap');
                        modalGallery.style.removeProperty('padding');
                    }
                }
                
                // Скрываем навигацию для всех галерей
                const modalNav = document.querySelector('.modal-nav');
                if (modalNav) {
                    modalNav.style.display = 'none';
                }
                
                worksArray.forEach((work, index) => {
                    // Создаем контейнер для работы
                    const workContainer = document.createElement('div');
                    workContainer.className = 'work-container';
                    
                    // Определяем стили в зависимости от типа галереи и размера экрана
                    // isMobile уже определен выше
                    const isMain = currentGalleryType === 'main';
                    const isUPDUTY = currentGalleryType === 'newproject';
                    const isGHY = currentGalleryType === 'project5';
                    
                    if (isRoyalHorse) {
                        // Для ROYAL HORSE на всех мобильных устройствах: всегда без отступов
                        if (isMobile) {
                            workContainer.style.display = 'flex';
                            workContainer.style.flexDirection = 'column';
                            workContainer.style.alignItems = 'center';
                            workContainer.style.setProperty('gap', '0', 'important');
                            workContainer.style.setProperty('padding', '0', 'important');
                            workContainer.style.setProperty('margin', '0', 'important');
                            workContainer.style.setProperty('margin-bottom', '0', 'important');
                            workContainer.style.setProperty('margin-top', '0', 'important');
                            workContainer.style.setProperty('min-height', 'auto', 'important');
                            workContainer.style.setProperty('height', 'auto', 'important');
                            workContainer.style.justifyContent = 'flex-start';
                            workContainer.style.opacity = '0';
                            workContainer.style.transform = 'translate3d(0, 30px, 0)';
                            workContainer.style.transition = 'all 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94)';
                        } else {
                            // Для ПК версии ROYAL HORSE
                            workContainer.style.cssText = `
                                display: flex;
                                flex-direction: column;
                                align-items: center;
                                gap: 40px;
                                padding: 60px 20px;
                                min-height: 100vh;
                                justify-content: center;
                                opacity: 0;
                                transform: translate3d(0, 30px, 0);
                                transition: all 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
                            `;
                        }
                    } else if (isMain) {
                        // Для МОИ РАБОТЫ на мобильных: без отступов
                        if (isMobile) {
                            workContainer.style.display = 'flex';
                            workContainer.style.flexDirection = 'column';
                            workContainer.style.alignItems = 'center';
                            workContainer.style.setProperty('gap', '0', 'important');
                            workContainer.style.setProperty('padding', '0', 'important');
                            workContainer.style.setProperty('margin', '0', 'important');
                            workContainer.style.minHeight = '100vh';
                            workContainer.style.justifyContent = 'center';
                            workContainer.style.opacity = '0';
                            workContainer.style.transform = 'translate3d(0, 30px, 0)';
                            workContainer.style.transition = 'all 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94)';
                        } else {
                            // Для ПК версии
                            workContainer.style.cssText = `
                                display: flex;
                                flex-direction: column;
                                align-items: center;
                                gap: 40px;
                                padding: 60px 20px;
                                min-height: 100vh;
                                justify-content: center;
                                opacity: 0;
                                transform: translate3d(0, 30px, 0);
                                transition: all 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
                            `;
                        }
                    } else if ((isUPDUTY || isGHY) && isMobile) {
                        // Для UPDUTY и GHY на мобильных: убираем большие интервалы
                        workContainer.style.display = 'flex';
                        workContainer.style.flexDirection = 'column';
                        workContainer.style.alignItems = 'center';
                        workContainer.style.setProperty('gap', '16px', 'important');
                        workContainer.style.setProperty('padding', '30px 10px', 'important');
                        workContainer.style.setProperty('min-height', 'auto', 'important');
                        workContainer.style.setProperty('height', 'auto', 'important');
                        workContainer.style.justifyContent = 'flex-start';
                        workContainer.style.opacity = '0';
                        workContainer.style.transform = 'translate3d(0, 30px, 0)';
                        workContainer.style.transition = 'all 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94)';
                    } else {
                        // Для остальных галерей: стандартный стиль (только для ПК)
                        workContainer.style.cssText = `
                            display: flex;
                            flex-direction: column;
                            align-items: center;
                            gap: 40px;
                            padding: 60px 20px;
                            min-height: 100vh;
                            justify-content: center;
                            opacity: 0;
                            transform: translate3d(0, 30px, 0);
                            transition: all 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
                        `;
                    }
                    
                    // Добавляем задержку для последовательного появления
                    setTimeout(() => {
                        workContainer.style.opacity = '1';
                        workContainer.style.transform = 'translateY(0)';
                    }, index * 200);
                    
                    // Создаем изображение
                    const img = document.createElement('img');
                    img.src = work.image;
                    img.alt = work.title;
                    img.className = 'modal-image';
                    
                    if (isRoyalHorse) {
                        // Для Royal Horse: увеличенный размер, без отступов (на всех мобильных устройствах)
                        img.style.cssText = `
                            width: 100%;
                            max-width: 100vw;
                            height: auto;
                            object-fit: contain;
                            border-radius: 0;
                            box-shadow: none;
                            transition: all 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
                            opacity: 0;
                            transform: scale(0.9);
                            margin: 0 !important;
                            margin-bottom: 0 !important;
                            margin-top: 0 !important;
                            display: block !important;
                        `;
                    } else {
                        // Для остальных галерей: стандартный стиль
                        img.style.cssText = `
                            width: 100%;
                            max-width: 1200px;
                            height: auto;
                            object-fit: contain;
                            border-radius: 12px;
                            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
                            transition: all 0.3s ease;
                            opacity: 0;
                            transform: scale(0.9);
                        `;
                    }
                    
                    // Анимация появления изображения
                    setTimeout(() => {
                        img.style.opacity = '1';
                        img.style.transform = 'scale(1)';
                    }, index * 200 + 300);
                    
                    workContainer.appendChild(img);
                    
                    // Добавляем информацию о работе для всех галерей кроме основного блока (SPACE) и Royal Horse
                    if (!isRoyalHorse && currentGalleryType !== 'main') {
                        // Создаем информацию о работе
                        const info = document.createElement('div');
                        info.className = 'modal-info';
                        info.style.cssText = `
                            text-align: center;
                            padding: 40px 20px;
                            background: transparent;
                            max-width: 800px;
                            width: 100%;
                            opacity: 0;
                            transform: translateY(20px);
                            transition: all 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
                        `;
                        
                        // Анимация появления информации
                        setTimeout(() => {
                            info.style.opacity = '1';
                            info.style.transform = 'translateY(0)';
                        }, index * 200 + 500);
                        
                        const title = document.createElement('h3');
                        title.textContent = work.title;
                        title.style.cssText = `
                            font-size: 2.5rem;
                            font-weight: 300;
                            color: #fff;
                            margin-bottom: 20px;
                            text-shadow: 0 0 20px rgba(255, 255, 255, 0.3);
                        `;
                        
                        const description = document.createElement('p');
                        description.textContent = work.description;
                        description.style.cssText = `
                            font-size: 1.2rem;
                            color: #ccc;
                            line-height: 1.8;
                            margin-bottom: 20px;
                        `;
                        
                        info.appendChild(title);
                        info.appendChild(description);
                        workContainer.appendChild(info);
                    }
                    
                    modalGallery.appendChild(workContainer);
                });
                
                // КРИТИЧЕСКОЕ: Применяем стили ПОСЛЕ добавления всех элементов в DOM
                // Это гарантирует применение стилей для ROYAL HORSE на мобильных устройствах
                // Функция принудительного применения стилей
                function applyRoyalHorseStyles() {
                    if (isRoyalHorse) {
                        // Проверяем мобильное устройство заново на момент применения
                        const currentWidth = window.innerWidth || document.documentElement.clientWidth;
                        const currentHeight = window.innerHeight || document.documentElement.clientHeight;
                        const currentMin = Math.min(currentWidth, currentHeight);
                        const isCurrentlyMobile = currentWidth <= 1024 || currentHeight <= 1024 || currentMin <= 768;
                        
                        if (isCurrentlyMobile) {
                            // Принудительно применяем стили ко всем элементам ROYAL HORSE
                            modalGallery.style.setProperty('gap', '0', 'important');
                            modalGallery.style.setProperty('padding', '0', 'important');
                            
                            // Применяем стили ко всем work-container
                            const containers = modalGallery.querySelectorAll('.work-container');
                            containers.forEach(container => {
                                container.style.setProperty('gap', '0', 'important');
                                container.style.setProperty('padding', '0', 'important');
                                container.style.setProperty('margin', '0', 'important');
                                container.style.setProperty('margin-bottom', '0', 'important');
                                container.style.setProperty('margin-top', '0', 'important');
                                container.style.setProperty('min-height', 'auto', 'important');
                                container.style.setProperty('height', 'auto', 'important');
                                container.style.setProperty('justify-content', 'flex-start', 'important');
                            });
                            
                            // Применяем стили ко всем изображениям
                            const images = modalGallery.querySelectorAll('img');
                            images.forEach(img => {
                                img.style.setProperty('margin', '0', 'important');
                                img.style.setProperty('margin-bottom', '0', 'important');
                                img.style.setProperty('margin-top', '0', 'important');
                                img.style.setProperty('display', 'block', 'important');
                                img.style.setProperty('vertical-align', 'top', 'important');
                            });
                        }
                    }
                }
                
                // Применяем стили несколько раз для гарантии
                setTimeout(applyRoyalHorseStyles, 50);
                setTimeout(applyRoyalHorseStyles, 100);
                setTimeout(applyRoyalHorseStyles, 200);
                setTimeout(applyRoyalHorseStyles, 500);
                
                // Добавляем стрелочку закрытия снизу для всех галерей
                    const closeButton = document.createElement('div');
                    closeButton.className = 'royal-horse-close';
                    closeButton.innerHTML = '↓';
                    closeButton.style.cssText = `
                        position: fixed;
                        bottom: 10px;
                        left: 50%;
                        transform: translateX(-50%);
                        width: 60px;
                        height: 60px;
                        background: rgba(0, 0, 0, 0.8);
                        border: 2px solid #fff;
                        border-radius: 50%;
                        color: #fff;
                        font-size: 24px;
                        font-weight: bold;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        cursor: pointer;
                        z-index: 10000;
                        transition: all 0.3s ease;
                        opacity: 0;
                        animation: fadeInUp 0.6s ease 3s forwards;
                        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.6);
                    `;
                    
                    closeButton.addEventListener('click', function() {
                        // Анимация исчезновения стрелочки
                        this.style.transition = 'all 0.3s ease';
                        this.style.opacity = '0';
                        this.style.transform = 'translateX(-50%) scale(0.5)';
                        
                        // Закрываем модальное окно через небольшую задержку
                        setTimeout(() => {
                            closeModal();
                        }, 150);
                    });
                    closeButton.addEventListener('mouseenter', function() {
                        this.style.background = '#00ffff';
                        this.style.borderColor = '#00ffff';
                        this.style.color = '#000';
                        this.style.transform = 'translateX(-50%) scale(1.1)';
                        this.style.boxShadow = '0 6px 25px rgba(0, 255, 255, 0.4)';
                    });
                    closeButton.addEventListener('mouseleave', function() {
                        this.style.background = 'rgba(0, 0, 0, 0.8)';
                        this.style.borderColor = '#fff';
                        this.style.color = '#fff';
                        this.style.transform = 'translateX(-50%) scale(1)';
                        this.style.boxShadow = '0 4px 15px rgba(0, 0, 0, 0.6)';
                    });
                    
                    document.body.appendChild(closeButton);
                    
                    // Удаляем кнопку при закрытии модального окна
                    const originalCloseModal = closeModal;
                    closeModal = function() {
                        const closeBtn = document.querySelector('.royal-horse-close');
                        if (closeBtn) {
                            closeBtn.remove();
                        }
                        originalCloseModal();
                    };
                
                // Убеждаемся, что скролл находится в самом верху
                setTimeout(() => {
                    modal.scrollTop = 0;
                    
                    // ДОПОЛНИТЕЛЬНАЯ проверка для ROYAL HORSE - применяем стили еще раз после полной загрузки
                    if (isRoyalHorse) {
                        applyRoyalHorseStyles();
                    }
                }, 300);
                
                // Также применяем при изменении ориентации
                if (isRoyalHorse) {
                    window.addEventListener('resize', applyRoyalHorseStyles);
                    window.addEventListener('orientationchange', function() {
                        setTimeout(applyRoyalHorseStyles, 100);
                    });
                }
            }
            
            
            // Функция закрытия модального окна
            function closeModal() {
                // Добавляем класс для анимации закрытия
                modal.classList.remove('modal-opening');
                modal.classList.add('modal-closing');
                
                // Ждем завершения анимации закрытия, затем скрываем модальное окно
                setTimeout(() => {
                    modal.style.display = 'none';
                    document.body.style.overflow = 'auto';
                    modal.classList.remove('modal-closing');
                }, 400); // Длительность анимации закрытия
            }
            
            // Обработчики кнопок навигации
            modalNext.addEventListener('click', function() {
                currentWorkIndex = (currentWorkIndex + 1) % currentWorksArray.length;
                scrollToWork(currentWorkIndex);
            });
            
            modalPrev.addEventListener('click', function() {
                currentWorkIndex = (currentWorkIndex - 1 + currentWorksArray.length) % currentWorksArray.length;
                scrollToWork(currentWorkIndex);
            });
            
            // Функция прокрутки к конкретной работе
            function scrollToWork(index) {
                const workContainers = modalGallery.querySelectorAll('.work-container');
                if (workContainers[index]) {
                    workContainers[index].scrollIntoView({ 
                        behavior: 'smooth', 
                        block: 'center' 
                    });
                }
            }
            
            // Навигация по работам стрелками
            document.addEventListener('keydown', function(e) {
                if (modal.style.display === 'block') {
                    if (e.key === 'ArrowLeft') {
                        modalPrev.click();
                    } else if (e.key === 'ArrowRight') {
                        modalNext.click();
                    } else if (e.key === 'Escape') {
                        closeModal();
                    }
                }
            });
            
            // Закрытие модального окна
            modalClose.addEventListener('click', closeModal);
            
            // Закрытие по клику вне модального окна
            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    closeModal();
                }
            });
            
            // Обработчик скролла для автоматического закрытия
            modal.addEventListener('scroll', function() {
                if (isClosing) return; // Предотвращаем множественные срабатывания
                
                const scrollTop = modal.scrollTop;
                const scrollHeight = modal.scrollHeight;
                const clientHeight = modal.clientHeight;
                const scrollBottom = scrollHeight - clientHeight;
                
                // Отключаем анимацию закрытия по скролу для всех галерей
                let closeThreshold = -1; // Отключаем закрытие по скролу
                let closeDelay = 0;
                console.log('Auto-close disabled for all galleries');
                
                // Проверяем, доскроллил ли пользователь до конца (только если closeThreshold >= 0)
                if (closeThreshold >= 0 && scrollTop >= scrollBottom - closeThreshold) {
                    console.log('Closing condition met! Gallery type:', currentGalleryType, 'Delay:', closeDelay + 'ms');
                    isClosing = true;
                    // Задержка перед закрытием (разная для разных галерей)
                    setTimeout(() => {
                        console.log('Closing modal after delay');
                        closeModal();
                    }, closeDelay);
                }
            });
            
        }
        
        // Инициализация галереи при загрузке страницы
        document.addEventListener('DOMContentLoaded', initWorksGallery);
        
        // Автоматическая прокрутка в верхний блок при загрузке страницы
        document.addEventListener('DOMContentLoaded', function() {
            // Прокручиваем страницу в самый верх
            window.scrollTo({
                top: 0,
                left: 0,
                behavior: 'smooth'
            });
        });
        
        // Также прокручиваем вверх при обновлении страницы
        window.addEventListener('beforeunload', function() {
            window.scrollTo(0, 0);
        });
        
        
    </script>
    
    <!-- Контакты в самом низу страницы -->
    <section class="contact" id="contact">
        <div class="contact-container">
            <div class="contact-row">
                <div class="made-in">Сделано с любовью из России</div>
                <div class="contact-center">
                    <div class="visit-indicator" id="visitIndicator"><span class="visit-dot"></span><span>Посещений: —</span></div>
                </div>
                <div class="contact-right">
                    <div class="contact-minimal">
                <div class="contact-item-minimal">
                    <a href="https://mail.yandex.ru/compose?to=Rau1ik@yandex.ru" target="_blank" class="contact-link">Rau1ik@yandex.ru</a>
                </div>
                <div class="contact-item-minimal">
                    <a href="https://t.me/Vadyyya" target="_blank" class="contact-link">Telegram</a>
                </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</body>
</html>

