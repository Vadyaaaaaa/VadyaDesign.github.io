<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>НАУМОВ ВАДИМ</title>
    <meta http-equiv="Cache-Control" content="public, max-age=31536000">
    <meta name="description" content="Портфолио графического дизайнера Наумова Вадима">
    <meta name="keywords" content="дизайн, графический дизайн, портфолио, логотипы, брендинг">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preload" href="Republiko_PersonalUse.otf" as="font" type="font/otf" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:wght@700&display=swap" rel="stylesheet" media="print" onload="this.media='all'">
    <style>
        @font-face {
            font-family: 'Republiko_PersonalUse';
            src: url('Republiko_PersonalUse.otf') format('opentype');
            font-weight: normal;
            font-style: normal;
            font-display: swap;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: 'Helvetica Neue', Arial, sans-serif; 
            background: #000000; 
            color: #fff; 
            overflow-x: hidden; 
            line-height: 1.6; 
            cursor: default; 
            position: relative;
        }
        
        
        /* 3D Фоновая анимация сферы */
        .background-sphere {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            pointer-events: none;
            z-index: 1;
            transform-style: preserve-3d;
            perspective: 800px;
        }
        
        .sphere {
            animation: rot 16s linear infinite reverse;
            width: 800px;
            height: 800px;
            border-radius: 50%;
            transform-style: preserve-3d;
            transform-origin: center center;
            will-change: transform;
        }
        
        .sphere i {
            position: absolute;
            width: 800px;
            height: 800px;
            line-height: 800px;
            transform-style: preserve-3d;
            border-radius: 50%;
            backface-visibility: visible;
            box-shadow: 0 0 200px 0 rgba(255, 255, 255, 0.02),
                       inset 0 0 200px 0 rgba(255, 255, 255, 0.04);
            will-change: transform;
            contain: layout style paint;
        }
        
        /* Создание элементов сферы */
        .sphere i:nth-child(1) { transform: rotateY(11.25deg); }
        .sphere i:nth-child(2) { transform: rotateY(22.5deg); }
        .sphere i:nth-child(3) { transform: rotateY(33.75deg); }
        .sphere i:nth-child(4) { transform: rotateY(45deg); }
        .sphere i:nth-child(5) { transform: rotateY(56.25deg); }
        .sphere i:nth-child(6) { transform: rotateY(67.5deg); }
        .sphere i:nth-child(7) { transform: rotateY(78.75deg); }
        .sphere i:nth-child(8) { transform: rotateY(90deg); }
        .sphere i:nth-child(9) { transform: rotateY(101.25deg); }
        .sphere i:nth-child(10) { transform: rotateY(112.5deg); }
        .sphere i:nth-child(11) { transform: rotateY(123.75deg); }
        .sphere i:nth-child(12) { transform: rotateY(135deg); }
        .sphere i:nth-child(13) { transform: rotateY(146.25deg); }
        .sphere i:nth-child(14) { transform: rotateY(157.5deg); }
        .sphere i:nth-child(15) { transform: rotateY(168.75deg); }
        .sphere i:nth-child(16) { transform: rotateY(180deg); }
        .sphere i:nth-child(17) { transform: rotateX(11.25deg); }
        .sphere i:nth-child(18) { transform: rotateX(22.5deg); }
        .sphere i:nth-child(19) { transform: rotateX(33.75deg); }
        .sphere i:nth-child(20) { transform: rotateX(45deg); }
        .sphere i:nth-child(21) { transform: rotateX(56.25deg); }
        .sphere i:nth-child(22) { transform: rotateX(67.5deg); }
        .sphere i:nth-child(23) { transform: rotateX(78.75deg); }
        .sphere i:nth-child(24) { transform: rotateX(90deg); }
        .sphere i:nth-child(25) { transform: rotateX(101.25deg); }
        .sphere i:nth-child(26) { transform: rotateX(112.5deg); }
        .sphere i:nth-child(27) { transform: rotateX(123.75deg); }
        .sphere i:nth-child(28) { transform: rotateX(135deg); }
        .sphere i:nth-child(29) { transform: rotateX(146.25deg); }
        .sphere i:nth-child(30) { transform: rotateX(157.5deg); }
        .sphere i:nth-child(31) { transform: rotateX(168.75deg); }
        .sphere i:nth-child(32) { transform: rotateX(180deg); }
        
        @keyframes rot {
            to { transform: rotateY(360deg) rotateZ(360deg) translate3d(0, 0, 0); }
        }
        
        
        
        
        
        
        .scroll-indicator { position: fixed; top: 0; left: 0; width: 100%; height: 4px; background: #333; z-index: 1000; }
        .scroll-progress { height: 100%; background: #fff; width: 0%; transition: width 0.1s ease; }
        .hero { 
            height: 100vh; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            position: relative; 
            background: transparent; 
            overflow: hidden;
        }
        .hero-content { 
            text-align: center; 
            max-width: 100%; 
            padding: 0 60px; 
            position: relative; 
            z-index: 1000; 
        }
        .hero-title { 
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            padding: 0;
            opacity: 1; 
            transform: scale(1) rotate(0deg); 
            cursor: default;
            position: relative;
            z-index: 1001;
            transition: all 0.3s ease;
            filter: blur(0px) brightness(1);
        }
        .vadya-word {
            font-family: 'Republiko_PersonalUse', 'Source Code Pro', monospace;
            font-size: clamp(6.75rem, 28vw, 18rem);
            font-weight: 700;
            letter-spacing: 0.1em;
            color: #e0e0e0;
            text-shadow: 0 0 8px rgba(255, 255, 255, 0.2), 0 0 16px rgba(255, 255, 255, 0.1);
            margin: 0;
            padding: 0;
            line-height: 1;
            text-align: center;
        }
        .design-word {
            font-family: 'Republiko_PersonalUse', 'Source Code Pro', monospace;
            font-size: clamp(6rem, 22vw, 14rem);
            font-weight: 700;
            letter-spacing: 0.18em;
            color: #e0e0e0;
            text-shadow: 0 0 8px rgba(255, 255, 255, 0.2), 0 0 16px rgba(255, 255, 255, 0.1);
            margin: 0;
            padding: 0;
            line-height: 1;
            text-align: left;
            transform: translateX(-2rem);
        }
        .vadya-word:hover {
            color: #fff;
            text-shadow: 0 0 30px rgba(255, 255, 255, 0.8), 0 0 60px rgba(255, 255, 255, 0.4);
        }
        .design-word:hover {
            color: #fff;
            text-shadow: 0 0 30px rgba(255, 255, 255, 0.8), 0 0 60px rgba(255, 255, 255, 0.4);
        }
        .hero-title .letter {
            display: inline-block;
            transition: all 0.15s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            transform-origin: center;
            position: relative;
            z-index: 1002;
            margin: 0;
            padding: 0;
            line-height: 1;
        }
        /* CSS hover отключен - используется только JavaScript */
        .hero-subtitle { 
            font-size: clamp(1.2rem, 4vw, 2rem); 
            color: #777; 
            margin-bottom: 60px; 
            opacity: 1; 
            transform: translateX(0) rotate(0deg); 
            font-weight: 300; 
            cursor: default;
            position: relative;
            z-index: 1001;
            text-shadow: 0 0 6px rgba(255, 255, 255, 0.15), 0 0 12px rgba(255, 255, 255, 0.08);
            transition: all 0.3s ease;
        }
        .hero-subtitle:hover {
            color: #fff;
            text-shadow: 0 0 20px rgba(255, 255, 255, 0.6), 0 0 40px rgba(255, 255, 255, 0.3);
        }
        .hero-subtitle .letter {
            display: inline-block;
            transition: all 0.15s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            transform-origin: center;
            position: relative;
            z-index: 1002;
        }
        /* CSS hover отключен - используется только JavaScript */
        .hero-description { 
            font-size: clamp(1rem, 2.5vw, 1.4rem); 
            color: #666; 
            max-width: 800px; 
            margin: 0 auto 40px; 
            opacity: 1; 
            transform: translateX(0) rotate(0deg); 
            line-height: 1.8; 
            cursor: default;
            position: relative;
            z-index: 1001;
            text-shadow: 0 0 4px rgba(255, 255, 255, 0.1), 0 0 8px rgba(255, 255, 255, 0.05);
            transition: all 0.3s ease;
        }
        .hero-description:hover {
            color: #fff;
            text-shadow: 0 0 15px rgba(255, 255, 255, 0.5), 0 0 30px rgba(255, 255, 255, 0.2);
        }
        .hero-description .letter {
            display: inline-block;
            transition: all 0.15s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            transform-origin: center;
            position: relative;
            z-index: 1002;
        }
        /* CSS hover отключен - используется только JavaScript */
        .hero-services { display: flex; justify-content: center; flex-wrap: wrap; gap: 40px; margin-top: 60px; opacity: 1; transform: translateY(0); }
        .service-tag { font-size: 1.1rem; color: #888; font-weight: 300; letter-spacing: 0.1em; }
        .profile { padding: 120px 60px; max-width: 100%; margin: 0 auto; text-align: center; }
        .profile-title { font-size: clamp(2rem, 6vw, 4rem); font-weight: 100; margin-bottom: 60px; opacity: 1; transform: translateY(0); }
        .profile-content { display: grid; grid-template-columns: 1fr 1fr; gap: 60px; align-items: center; margin-bottom: 60px; }
        .profile-text { text-align: left; }
        .profile-text h3 { font-size: 2.88rem; font-weight: 300; margin-bottom: 60px; color: #fff; }
        .profile-text p { font-size: 1.76rem; color: #888; line-height: 1.8; margin-bottom: 60px; word-spacing: 0.1em; }
        .profile-text .japanese { font-size: 1rem; color: #666; line-height: 1.6; }
        /* Плавная подсветка букв в описании без увеличения */
        .profile-text p .letter {
            display: inline-block;
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            position: relative;
        }
        .profile-text p .letter:hover {
            color: #fff !important;
            text-shadow: 0 0 20px rgba(255, 255, 255, 0.5) !important;
            transform: scale(1) !important;
        }
        /* Красивая анимация в профиле */
        .profile-animation { 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            position: relative;
            height: 400px;
        }
        
        /* Белые контурные фигуры с реакцией на курсор */
        .outline-shapes {
            position: absolute;
            top: 0;
            left: 0;
            width: 300px;
            height: 300px;
        }
        .outline-shape {
            position: absolute;
            border: 2px solid #fff;
            background: transparent;
            opacity: 0.6;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .outline-shape:hover {
            transform: scale(1.3) rotate(180deg);
            opacity: 1;
            border-color: #00ffff;
            border-width: 3px;
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.5);
        }
        .outline-1 {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            top: 15%;
            left: 15%;
        }
        .outline-2 {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            top: 65%;
            left: 75%;
        }
        .outline-3 {
            width: 90px;
            height: 90px;
            border-radius: 50%;
            top: 5%;
            left: 65%;
        }
        .outline-4 {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            top: 75%;
            left: 25%;
        }
        .outline-5 {
            width: 55px;
            height: 55px;
            border-radius: 50%;
            top: 45%;
            left: 45%;
        }
        .competencies { padding: 180px 60px; max-width: 100%; margin: 0 auto; text-align: center; }
        .competencies-title { font-size: clamp(1.8rem, 5vw, 3rem); font-weight: 100; margin-bottom: 60px; color: #fff; }
        .competencies-content { max-width: 1000px; margin: 0 auto; }
        .competencies-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 60px; margin-top: 30px; }
        .competencies-section { text-align: left; }
        .competencies-subtitle { font-size: 1.3rem; font-weight: 300; margin-bottom: 30px; color: #fff; line-height: 1.4; }
        .competencies-text { font-size: 1rem; color: #ccc; line-height: 1.6; margin-bottom: 15px; }
        
        
        .works { padding: 120px 20px; background: rgba(17, 17, 17, 0.7); backdrop-filter: blur(15px); position: relative; z-index: 10; }
        .works-container { max-width: 100%; margin: 0 auto; padding: 0 60px; }
        .works-title { font-size: clamp(2rem, 6vw, 4rem); font-weight: 100; margin-bottom: 80px; text-align: center; position: relative; z-index: 11; }
        .works-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 40px; margin-bottom: 60px; }
        .work-item { position: relative; aspect-ratio: 16/9; background: rgba(34, 34, 34, 0.8); border-radius: 8px; overflow: hidden; cursor: pointer; transition: all 0.3s ease; border: 1px solid rgba(255, 255, 255, 0.15); z-index: 11; will-change: transform; contain: layout style paint; }
        .work-item:hover { transform: scale(1.05); }
        .work-image { width: 100%; height: 100%; object-fit: cover; object-position: center 60%; transition: all 0.3s ease; will-change: transform; contain: layout style paint; }
        .backdrop-image { object-position: center 35%; }
        .cup-image { object-position: center 50%; }
        .work-item:hover .work-image { transform: scale(1.1); }
        .work-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.9); display: flex; align-items: center; justify-content: center; opacity: 0; transition: opacity 0.3s ease; backdrop-filter: blur(8px); }
        .work-item:hover .work-overlay { opacity: 1; }
        .work-title { font-size: 1.2rem; font-weight: 300; text-align: center; }
        .view-all { text-align: center; }
        .contact { padding: 120px 60px; text-align: center; }
        .contact-container { max-width: 100%; margin: 0 auto; }
        .contact-title { font-size: clamp(2rem, 6vw, 4rem); font-weight: 100; margin-bottom: 80px; }
        
        .contact-minimal { 
            display: flex; 
            justify-content: center; 
            gap: 60px; 
            margin: 0 auto 80px; 
            max-width: 600px; 
        }
        
        .contact-item-minimal { 
            text-align: center; 
        }
        
        .contact-link { 
            color: #fff; 
            text-decoration: none; 
            font-size: 1.1rem; 
            font-weight: 300; 
            letter-spacing: 0.05em; 
            transition: all 0.3s ease; 
            padding: 15px 25px; 
            display: inline-block; 
        }
        
        .contact-link:hover { 
            color: #00ffff; 
            transform: translateY(-2px); 
        }
        
        /* Модальное окно для работ */
        .work-modal {
            display: none;
            position: fixed;
            z-index: 10000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.95);
            backdrop-filter: blur(15px);
            overflow-y: auto;
            overflow-x: hidden;
        }
        
        .modal-content {
            position: relative;
            width: 100%;
            min-height: 100vh;
            background: #000;
        }
        
        .modal-gallery {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 60px 20px;
            gap: 40px;
        }
        
        .modal-close {
            position: fixed;
            top: 20px;
            right: 30px;
            color: #fff;
            font-size: 32px;
            font-weight: bold;
            cursor: pointer;
            z-index: 10001;
            transition: all 0.3s ease;
            background: rgba(0, 0, 0, 0.5);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            will-change: transform, background-color;
            contain: layout style paint;
        }
        
        .modal-close:hover {
            color: #00ffff;
            background: rgba(0, 255, 255, 0.2);
            transform: scale(1.1);
        }
        
        .modal-nav {
            position: fixed;
            top: 50%;
            width: 100%;
            display: flex;
            justify-content: space-between;
            pointer-events: none;
            z-index: 10002;
            padding: 0 30px;
        }
        
        .modal-prev, .modal-next {
            background: rgba(0, 0, 0, 0.7);
            border: 2px solid #fff;
            color: #fff;
            font-size: 28px;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            pointer-events: auto;
            transform: translateY(-50%);
            will-change: transform, background-color;
            contain: layout style paint;
        }
        
        .modal-prev:hover, .modal-next:hover {
            background: #00ffff;
            border-color: #00ffff;
            color: #000;
            transform: translateY(-50%) scale(1.1);
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateX(-50%) translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateX(-50%) translateY(0);
            }
        }
        
        .modal-image {
            width: 100%;
            max-width: 1200px;
            height: auto;
            object-fit: contain;
            border-radius: 12px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            transition: all 0.3s ease;
        }
        
        .modal-image:hover {
            transform: scale(1.02);
        }
        
        .modal-info {
            text-align: center;
            padding: 40px 20px;
            background: transparent;
            max-width: 800px;
            width: 100%;
        }
        
        .modal-title {
            font-size: 3rem;
            font-weight: 200;
            color: #fff;
            margin-bottom: 30px;
            text-shadow: 0 0 30px rgba(255, 255, 255, 0.4);
            letter-spacing: 2px;
        }
        
        .modal-description {
            font-size: 1.4rem;
            color: #e0e0e0;
            margin-bottom: 30px;
            line-height: 1.8;
            font-weight: 300;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }
        
        
        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: scale(0.8) translate3d(0, 50px, 0);
                backdrop-filter: blur(0px);
            }
            to {
                opacity: 1;
                transform: scale(1) translate3d(0, 0, 0);
                backdrop-filter: blur(15px);
            }
        }
        
        @keyframes modalSlideOut {
            from {
                opacity: 1;
                transform: scale(1) translate3d(0, 0, 0);
                backdrop-filter: blur(15px);
            }
            to {
                opacity: 0;
                transform: scale(0.8) translate3d(0, 50px, 0);
                backdrop-filter: blur(0px);
            }
        }
        
        
        @keyframes rotate {
            from {
                transform: rotate(0deg);
            }
            to {
                transform: rotate(360deg);
            }
        }
        
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translate3d(0, 30px, 0);
            }
            to {
                opacity: 1;
                transform: translate3d(0, 0, 0);
            }
        }
        
        @keyframes fadeOutDown {
            from {
                opacity: 1;
                transform: translate3d(0, 0, 0);
            }
            to {
                opacity: 0;
                transform: translate3d(0, 30px, 0);
            }
        }
        
        
        .modal-opening {
            animation: modalSlideIn 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
        }
        
        .modal-closing {
            animation: modalSlideOut 0.4s cubic-bezier(0.55, 0.06, 0.68, 0.19) forwards;
        }
        
        .work-container {
            animation: fadeInUp 0.8s ease-out forwards;
        }
        
        .work-container.fade-out {
            animation: fadeOutDown 0.3s ease-in forwards;
        }
        
        
        
        
        @media (max-width: 1024px) { .profile-content { grid-template-columns: 1fr; gap: 60px; } .profile-text { text-align: center; } .profile-animation { height: 300px; } .outline-shapes { width: 250px; height: 250px; } .competencies-grid { grid-template-columns: 1fr; gap: 30px; } .works-grid { grid-template-columns: repeat(2, 1fr); } }
        @media (max-width: 768px) { 
            .vadya-word { font-size: 8rem; } 
            .design-word { font-size: 2rem; }
            .hero-content { padding: 0 30px; } 
            .profile { padding: 120px 30px; } 
            .competencies { padding: 180px 30px; }
            .competencies-grid { gap: 20px; }
            .works-container { padding: 0 30px; } 
            .contact { padding: 120px 30px; } 
            .works-grid { grid-template-columns: 1fr; } 
            .contact-minimal { flex-direction: column; gap: 30px; } 
        }
        @media (max-width: 480px) { .hero-content { padding: 0 20px; } .profile { padding: 120px 20px; } .competencies { padding: 180px 20px; } .competencies-subtitle { font-size: 1.1rem; } .competencies-text { font-size: 0.9rem; } .works-container { padding: 0 20px; } .contact { padding: 120px 20px; } }
        
        

        /* Экран загрузки */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #000000 0%, #111111 50%, #000000 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10000;
            opacity: 1;
            overflow: hidden;
        }
        
        /* Transition только для исчезновения */
        .loading-screen.fade-out {
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.8s ease-out;
        }
        
        /* Анимация загрузки - 3D цилиндры с фоновым изображением */
        .loading-animation {
            position: absolute;
            top: 40%;
            left: 50%;
            transform: translate(-50%, -50%);
            --size: min(40vw, 40vh);
            --width: calc(var(--size) / 40);
            --dist: calc(var(--width) * 9.8);
            --count: 64;
            --bg: url('https://mir-s3-cdn-cf.behance.net/project_modules/max_1200/5eeea355389655.59822ff824b72.gif');
            display: flex;
            align-items: center;
            justify-content: center;
            gap: var(--width);
        }
        
        .tube {
            transform-style: preserve-3d;
            display: flex;
            align-items: center;
            justify-content: center;
            animation: speen 6s infinite linear;
            width: calc(var(--dist) * 2);
            height: var(--size);
            position: relative;
        }
        
        .tube:nth-child(1) {
            animation-delay: -7.5s;
        }
        
        .tube:nth-child(2) {
            animation-delay: -5s;
        }
        
        .tube:nth-child(3) {
            animation-delay: -2.5s;
        }
        
        .strip {
            transform-style: preserve-3d;
            background-color: white;
            height: var(--size);
            width: var(--width);
            position: absolute;
            background-image: var(--bg);
            background-size: calc(var(--width) * var(--count)) auto;
            background-repeat: no-repeat;
            backface-visibility: hidden;
        }
        
        .strip:nth-child(1) { transform: rotateY(calc(1turn * 1 / var(--count))) translateZ(var(--dist)); background-position: calc(var(--width) * -0) center; }
        .strip:nth-child(2) { transform: rotateY(calc(1turn * 2 / var(--count))) translateZ(var(--dist)); background-position: calc(var(--width) * -1) center; }
        .strip:nth-child(3) { transform: rotateY(calc(1turn * 3 / var(--count))) translateZ(var(--dist)); background-position: calc(var(--width) * -2) center; }
        .strip:nth-child(4) { transform: rotateY(calc(1turn * 4 / var(--count))) translateZ(var(--dist)); background-position: calc(var(--width) * -3) center; }
        .strip:nth-child(5) { transform: rotateY(calc(1turn * 5 / var(--count))) translateZ(var(--dist)); background-position: calc(var(--width) * -4) center; }
        .strip:nth-child(6) { transform: rotateY(calc(1turn * 6 / var(--count))) translateZ(var(--dist)); background-position: calc(var(--width) * -5) center; }
        .strip:nth-child(7) { transform: rotateY(calc(1turn * 7 / var(--count))) translateZ(var(--dist)); background-position: calc(var(--width) * -6) center; }
        .strip:nth-child(8) { transform: rotateY(calc(1turn * 8 / var(--count))) translateZ(var(--dist)); background-position: calc(var(--width) * -7) center; }
        .strip:nth-child(9) { transform: rotateY(calc(1turn * 9 / var(--count))) translateZ(var(--dist)); background-position: calc(var(--width) * -8) center; }
        .strip:nth-child(10) { transform: rotateY(calc(1turn * 10 / var(--count))) translateZ(var(--dist)); background-position: calc(var(--width) * -9) center; }
        .strip:nth-child(11) { transform: rotateY(calc(1turn * 11 / var(--count))) translateZ(var(--dist)); background-position: calc(var(--width) * -10) center; }
        .strip:nth-child(12) { transform: rotateY(calc(1turn * 12 / var(--count))) translateZ(var(--dist)); background-position: calc(var(--width) * -11) center; }
        .strip:nth-child(13) { transform: rotateY(calc(1turn * 13 / var(--count))) translateZ(var(--dist)); background-position: calc(var(--width) * -12) center; }
        .strip:nth-child(14) { transform: rotateY(calc(1turn * 14 / var(--count))) translateZ(var(--dist)); background-position: calc(var(--width) * -13) center; }
        .strip:nth-child(15) { transform: rotateY(calc(1turn * 15 / var(--count))) translateZ(var(--dist)); background-position: calc(var(--width) * -14) center; }
        .strip:nth-child(16) { transform: rotateY(calc(1turn * 16 / var(--count))) translateZ(var(--dist)); background-position: calc(var(--width) * -15) center; }
        .strip:nth-child(17) { transform: rotateY(calc(1turn * 17 / var(--count))) translateZ(var(--dist)); background-position: calc(var(--width) * -16) center; }
        .strip:nth-child(18) { transform: rotateY(calc(1turn * 18 / var(--count))) translateZ(var(--dist)); background-position: calc(var(--width) * -17) center; }
        .strip:nth-child(19) { transform: rotateY(calc(1turn * 19 / var(--count))) translateZ(var(--dist)); background-position: calc(var(--width) * -18) center; }
        .strip:nth-child(20) { transform: rotateY(calc(1turn * 20 / var(--count))) translateZ(var(--dist)); background-position: calc(var(--width) * -19) center; }
        .strip:nth-child(21) { transform: rotateY(calc(1turn * 21 / var(--count))) translateZ(var(--dist)); background-position: calc(var(--width) * -20) center; }
        .strip:nth-child(22) { transform: rotateY(calc(1turn * 22 / var(--count))) translateZ(var(--dist)); background-position: calc(var(--width) * -21) center; }
        .strip:nth-child(23) { transform: rotateY(calc(1turn * 23 / var(--count))) translateZ(var(--dist)); background-position: calc(var(--width) * -22) center; }
        .strip:nth-child(24) { transform: rotateY(calc(1turn * 24 / var(--count))) translateZ(var(--dist)); background-position: calc(var(--width) * -23) center; }
        .strip:nth-child(25) { transform: rotateY(calc(1turn * 25 / var(--count))) translateZ(var(--dist)); background-position: calc(var(--width) * -24) center; }
        .strip:nth-child(26) { transform: rotateY(calc(1turn * 26 / var(--count))) translateZ(var(--dist)); background-position: calc(var(--width) * -25) center; }
        .strip:nth-child(27) { transform: rotateY(calc(1turn * 27 / var(--count))) translateZ(var(--dist)); background-position: calc(var(--width) * -26) center; }
        .strip:nth-child(28) { transform: rotateY(calc(1turn * 28 / var(--count))) translateZ(var(--dist)); background-position: calc(var(--width) * -27) center; }
        .strip:nth-child(29) { transform: rotateY(calc(1turn * 29 / var(--count))) translateZ(var(--dist)); background-position: calc(var(--width) * -28) center; }
        .strip:nth-child(30) { transform: rotateY(calc(1turn * 30 / var(--count))) translateZ(var(--dist)); background-position: calc(var(--width) * -29) center; }
        .strip:nth-child(31) { transform: rotateY(calc(1turn * 31 / var(--count))) translateZ(var(--dist)); background-position: calc(var(--width) * -30) center; }
        .strip:nth-child(32) { transform: rotateY(calc(1turn * 32 / var(--count))) translateZ(var(--dist)); background-position: calc(var(--width) * -31) center; }
        .strip:nth-child(33) { transform: rotateY(calc(1turn * 33 / var(--count))) translateZ(var(--dist)); background-position: calc(var(--width) * -32) center; }
        .strip:nth-child(34) { transform: rotateY(calc(1turn * 34 / var(--count))) translateZ(var(--dist)); background-position: calc(var(--width) * -33) center; }
        .strip:nth-child(35) { transform: rotateY(calc(1turn * 35 / var(--count))) translateZ(var(--dist)); background-position: calc(var(--width) * -34) center; }
        .strip:nth-child(36) { transform: rotateY(calc(1turn * 36 / var(--count))) translateZ(var(--dist)); background-position: calc(var(--width) * -35) center; }
        .strip:nth-child(37) { transform: rotateY(calc(1turn * 37 / var(--count))) translateZ(var(--dist)); background-position: calc(var(--width) * -36) center; }
        .strip:nth-child(38) { transform: rotateY(calc(1turn * 38 / var(--count))) translateZ(var(--dist)); background-position: calc(var(--width) * -37) center; }
        .strip:nth-child(39) { transform: rotateY(calc(1turn * 39 / var(--count))) translateZ(var(--dist)); background-position: calc(var(--width) * -38) center; }
        .strip:nth-child(40) { transform: rotateY(calc(1turn * 40 / var(--count))) translateZ(var(--dist)); background-position: calc(var(--width) * -39) center; }
        .strip:nth-child(41) { transform: rotateY(calc(1turn * 41 / var(--count))) translateZ(var(--dist)); background-position: calc(var(--width) * -40) center; }
        .strip:nth-child(42) { transform: rotateY(calc(1turn * 42 / var(--count))) translateZ(var(--dist)); background-position: calc(var(--width) * -41) center; }
        .strip:nth-child(43) { transform: rotateY(calc(1turn * 43 / var(--count))) translateZ(var(--dist)); background-position: calc(var(--width) * -42) center; }
        .strip:nth-child(44) { transform: rotateY(calc(1turn * 44 / var(--count))) translateZ(var(--dist)); background-position: calc(var(--width) * -43) center; }
        .strip:nth-child(45) { transform: rotateY(calc(1turn * 45 / var(--count))) translateZ(var(--dist)); background-position: calc(var(--width) * -44) center; }
        .strip:nth-child(46) { transform: rotateY(calc(1turn * 46 / var(--count))) translateZ(var(--dist)); background-position: calc(var(--width) * -45) center; }
        .strip:nth-child(47) { transform: rotateY(calc(1turn * 47 / var(--count))) translateZ(var(--dist)); background-position: calc(var(--width) * -46) center; }
        .strip:nth-child(48) { transform: rotateY(calc(1turn * 48 / var(--count))) translateZ(var(--dist)); background-position: calc(var(--width) * -47) center; }
        .strip:nth-child(49) { transform: rotateY(calc(1turn * 49 / var(--count))) translateZ(var(--dist)); background-position: calc(var(--width) * -48) center; }
        .strip:nth-child(50) { transform: rotateY(calc(1turn * 50 / var(--count))) translateZ(var(--dist)); background-position: calc(var(--width) * -49) center; }
        .strip:nth-child(51) { transform: rotateY(calc(1turn * 51 / var(--count))) translateZ(var(--dist)); background-position: calc(var(--width) * -50) center; }
        .strip:nth-child(52) { transform: rotateY(calc(1turn * 52 / var(--count))) translateZ(var(--dist)); background-position: calc(var(--width) * -51) center; }
        .strip:nth-child(53) { transform: rotateY(calc(1turn * 53 / var(--count))) translateZ(var(--dist)); background-position: calc(var(--width) * -52) center; }
        .strip:nth-child(54) { transform: rotateY(calc(1turn * 54 / var(--count))) translateZ(var(--dist)); background-position: calc(var(--width) * -53) center; }
        .strip:nth-child(55) { transform: rotateY(calc(1turn * 55 / var(--count))) translateZ(var(--dist)); background-position: calc(var(--width) * -54) center; }
        .strip:nth-child(56) { transform: rotateY(calc(1turn * 56 / var(--count))) translateZ(var(--dist)); background-position: calc(var(--width) * -55) center; }
        .strip:nth-child(57) { transform: rotateY(calc(1turn * 57 / var(--count))) translateZ(var(--dist)); background-position: calc(var(--width) * -56) center; }
        .strip:nth-child(58) { transform: rotateY(calc(1turn * 58 / var(--count))) translateZ(var(--dist)); background-position: calc(var(--width) * -57) center; }
        .strip:nth-child(59) { transform: rotateY(calc(1turn * 59 / var(--count))) translateZ(var(--dist)); background-position: calc(var(--width) * -58) center; }
        .strip:nth-child(60) { transform: rotateY(calc(1turn * 60 / var(--count))) translateZ(var(--dist)); background-position: calc(var(--width) * -59) center; }
        .strip:nth-child(61) { transform: rotateY(calc(1turn * 61 / var(--count))) translateZ(var(--dist)); background-position: calc(var(--width) * -60) center; }
        .strip:nth-child(62) { transform: rotateY(calc(1turn * 62 / var(--count))) translateZ(var(--dist)); background-position: calc(var(--width) * -61) center; }
        .strip:nth-child(63) { transform: rotateY(calc(1turn * 63 / var(--count))) translateZ(var(--dist)); background-position: calc(var(--width) * -62) center; }
        .strip:nth-child(64) { transform: rotateY(calc(1turn * 64 / var(--count))) translateZ(var(--dist)); background-position: calc(var(--width) * -63) center; }
        
        @keyframes speen {
            0% {
                transform: perspective(400px) rotateY(0deg);
            }
            100% {
                transform: perspective(400px) rotateY(360deg);
            }
        }


        .loading-container {
            position: absolute;
            top: 72%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            color: #fff;
            z-index: 2;
        }

        .loading-logo {
            margin-bottom: 40px;
        }

        .loading-title {
            font-family: 'Republiko_PersonalUse', 'Helvetica Neue', Arial, sans-serif;
            font-size: clamp(1.5rem, 6vw, 3rem);
            font-weight: normal;
            margin: 0;
            background: linear-gradient(45deg, #fff, #ccc, #fff);
            background-size: 200% 200%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: gradientShift 3s ease-in-out infinite;
        }

        .loading-subtitle {
            font-size: clamp(0.7rem, 2.5vw, 1rem);
            color: #888;
            margin: 10px 0 0 0;
            font-weight: 300;
            letter-spacing: 2px;
        }


        .loading-text {
            font-size: 1rem;
            color: #666;
            letter-spacing: 1px;
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        @keyframes spin {
            0% { transform: rotate(0deg) translate3d(0, 0, 0); }
            100% { transform: rotate(360deg) translate3d(0, 0, 0); }
        }

        @keyframes pulse {
            0%, 100% { opacity: 0.6; }
            50% { opacity: 1; }
        }

        /* Основной контент скрыт по умолчанию */
        .hero,
        .profile,
        .competencies,
        .works,
        .contact,
        .scroll-progress,
        .background-sphere {
            opacity: 0;
            transition: opacity 0.5s ease;
        }

        /* Показываем контент только после загрузки */
        body.loaded .hero,
        body.loaded .profile,
        body.loaded .competencies,
        body.loaded .works,
        body.loaded .contact,
        body.loaded .scroll-progress,
        body.loaded .background-sphere {
            opacity: 1;
        }
        
    </style>
</head>
<body>
    <!-- Экран загрузки -->
    <div id="loadingScreen" class="loading-screen">
        <!-- 3D Анимация загрузки -->
        <div class="loading-animation">
            <div class="tube">
                <div class="strip"></div><div class="strip"></div><div class="strip"></div><div class="strip"></div>
                <div class="strip"></div><div class="strip"></div><div class="strip"></div><div class="strip"></div>
                <div class="strip"></div><div class="strip"></div><div class="strip"></div><div class="strip"></div>
                <div class="strip"></div><div class="strip"></div><div class="strip"></div><div class="strip"></div>
                <div class="strip"></div><div class="strip"></div><div class="strip"></div><div class="strip"></div>
                <div class="strip"></div><div class="strip"></div><div class="strip"></div><div class="strip"></div>
                <div class="strip"></div><div class="strip"></div><div class="strip"></div><div class="strip"></div>
                <div class="strip"></div><div class="strip"></div><div class="strip"></div><div class="strip"></div>
                <div class="strip"></div><div class="strip"></div><div class="strip"></div><div class="strip"></div>
                <div class="strip"></div><div class="strip"></div><div class="strip"></div><div class="strip"></div>
                <div class="strip"></div><div class="strip"></div><div class="strip"></div><div class="strip"></div>
                <div class="strip"></div><div class="strip"></div><div class="strip"></div><div class="strip"></div>
                <div class="strip"></div><div class="strip"></div><div class="strip"></div><div class="strip"></div>
                <div class="strip"></div><div class="strip"></div><div class="strip"></div><div class="strip"></div>
                <div class="strip"></div><div class="strip"></div><div class="strip"></div><div class="strip"></div>
                <div class="strip"></div><div class="strip"></div><div class="strip"></div><div class="strip"></div>
            </div>
            <div class="tube">
                <div class="strip"></div><div class="strip"></div><div class="strip"></div><div class="strip"></div>
                <div class="strip"></div><div class="strip"></div><div class="strip"></div><div class="strip"></div>
                <div class="strip"></div><div class="strip"></div><div class="strip"></div><div class="strip"></div>
                <div class="strip"></div><div class="strip"></div><div class="strip"></div><div class="strip"></div>
                <div class="strip"></div><div class="strip"></div><div class="strip"></div><div class="strip"></div>
                <div class="strip"></div><div class="strip"></div><div class="strip"></div><div class="strip"></div>
                <div class="strip"></div><div class="strip"></div><div class="strip"></div><div class="strip"></div>
                <div class="strip"></div><div class="strip"></div><div class="strip"></div><div class="strip"></div>
                <div class="strip"></div><div class="strip"></div><div class="strip"></div><div class="strip"></div>
                <div class="strip"></div><div class="strip"></div><div class="strip"></div><div class="strip"></div>
                <div class="strip"></div><div class="strip"></div><div class="strip"></div><div class="strip"></div>
                <div class="strip"></div><div class="strip"></div><div class="strip"></div><div class="strip"></div>
                <div class="strip"></div><div class="strip"></div><div class="strip"></div><div class="strip"></div>
                <div class="strip"></div><div class="strip"></div><div class="strip"></div><div class="strip"></div>
                <div class="strip"></div><div class="strip"></div><div class="strip"></div><div class="strip"></div>
                <div class="strip"></div><div class="strip"></div><div class="strip"></div><div class="strip"></div>
            </div>
            <div class="tube">
                <div class="strip"></div><div class="strip"></div><div class="strip"></div><div class="strip"></div>
                <div class="strip"></div><div class="strip"></div><div class="strip"></div><div class="strip"></div>
                <div class="strip"></div><div class="strip"></div><div class="strip"></div><div class="strip"></div>
                <div class="strip"></div><div class="strip"></div><div class="strip"></div><div class="strip"></div>
                <div class="strip"></div><div class="strip"></div><div class="strip"></div><div class="strip"></div>
                <div class="strip"></div><div class="strip"></div><div class="strip"></div><div class="strip"></div>
                <div class="strip"></div><div class="strip"></div><div class="strip"></div><div class="strip"></div>
                <div class="strip"></div><div class="strip"></div><div class="strip"></div><div class="strip"></div>
                <div class="strip"></div><div class="strip"></div><div class="strip"></div><div class="strip"></div>
                <div class="strip"></div><div class="strip"></div><div class="strip"></div><div class="strip"></div>
                <div class="strip"></div><div class="strip"></div><div class="strip"></div><div class="strip"></div>
                <div class="strip"></div><div class="strip"></div><div class="strip"></div><div class="strip"></div>
                <div class="strip"></div><div class="strip"></div><div class="strip"></div><div class="strip"></div>
                <div class="strip"></div><div class="strip"></div><div class="strip"></div><div class="strip"></div>
                <div class="strip"></div><div class="strip"></div><div class="strip"></div><div class="strip"></div>
                <div class="strip"></div><div class="strip"></div><div class="strip"></div><div class="strip"></div>
            </div>
        </div>
        
        <div class="loading-container">
            <div class="loading-text">Загрузка...</div>
        </div>
        </div>
    
    <div class="scroll-indicator"><div class="scroll-progress" id="scrollProgress"></div></div>
    
    <!-- 3D Фоновая анимация сферы -->
    <div class="background-sphere">
        <div class="sphere">
            <i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i>
            <i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i>
            <i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i>
            <i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i>
        </div>
    </div>
    
    <section class="hero" id="home">
        <div class="hero-content">
            <h1 class="hero-title">
                <div class="design-word">
                    <span class="letter">D</span><span class="letter">E</span><span class="letter">S</span><span class="letter">I</span><span class="letter">G</span><span class="letter">N</span>
                </div>
                <div class="vadya-word">
                    <span class="letter">V</span><span class="letter">A</span><span class="letter">D</span><span class="letter">Y</span><span class="letter">A</span>
                </div>
            </h1>
        </div>
    </section>
    <section class="profile" id="profile">
        <h2 class="profile-title">ПРОФИЛЬ</h2>
        <div class="profile-content">
            <div class="profile-text">
                <p>Графический дизайнер с 2-летним стажем работы в создании визуального контента для брендов и маркетинговых кампаний. Специализируюсь на разработке фирменного стиля, создании рекламных материалов.</p>
            </div>
            <div class="profile-animation">
                <div class="outline-shapes">
                    <div class="outline-shape outline-1"></div>
                    <div class="outline-shape outline-2"></div>
                    <div class="outline-shape outline-3"></div>
                    <div class="outline-shape outline-4"></div>
                    <div class="outline-shape outline-5"></div>
                </div>
            </div>
        </div>
    </section>
    <section class="competencies" id="competencies">
        <h2 class="competencies-title">КЛЮЧЕВЫЕ КОМПЕТЕНЦИИ</h2>
        <div class="competencies-content">
            <h3 class="competencies-subtitle">Профессиональные навыки</h3>
            <div class="competencies-grid">
                <div class="competencies-section">
                    <p class="competencies-text">Разработка визуальных концепций для различных медиа</p>
                    <p class="competencies-text">Проектирование пользовательских интерфейсов<br>с учетом современных трендов</p>
                    <p class="competencies-text">Брендинг и айдентика с продуманной системой элементов</p>
                    <p class="competencies-text">Adobe Creative Suite (Photoshop, Illustrator, After Effects)</p>
                    <p class="competencies-text">Figma и инструменты для веб-дизайна</p>
                </div>
                <div class="competencies-section">
                    <p class="competencies-text">UX/UI дизайн с фокусом на пользовательский опыт</p>
                    <p class="competencies-text">Внимание к деталям на всех этапах работы</p>
                    <p class="competencies-text">Понимание психологии восприятия визуальной информации</p>
                    <p class="competencies-text">Инновационные решения в рамках поставленных задач</p>
                    <p class="competencies-text">Эффективная коммуникация с клиентами и командой</p>
                </div>
            </div>
        </div>
    </section>
    <section class="works" id="works">
        <div class="works-container">
            <h2 class="works-title">РАБОТЫ</h2>
            <div class="works-grid">
                <div class="work-item" data-work="1">
                    <img src="works/SPACE.jpg" alt="SPACE" class="work-image" loading="lazy">
                    <div class="work-overlay">
                        <h3 class="work-title">МОИ РАБОТЫ<br>НАЖМИ ДЛЯ ПРОСМОТРА</h3>
                    </div>
                </div>
                <div class="work-item" data-work="2">
                    <img src="works/Lumiere Backdrop.jpg" alt="Lumiere Backdrop" class="work-image backdrop-image" loading="lazy">
                    <div class="work-overlay">
                        <h3 class="work-title">LUMIERE<br>НАЖМИ ДЛЯ ПРОСМОТРА</h3>
                    </div>
                </div>
                <div class="work-item" data-work="3">
                    <img src="12345/EkoLife Cup.jpg?v=2" alt="EkoLife Cup" class="work-image cup-image" loading="lazy">
                    <div class="work-overlay">
                        <h3 class="work-title">EKOLIFE<br>НАЖМИ ДЛЯ ПРОСМОТРА</h3>
                    </div>
                </div>
                <div class="work-item" data-work="4">
                    <img src="123456/UPDUTY LOGO.jpg" alt="UPDUTY PROJECT" class="work-image" loading="lazy">
                    <div class="work-overlay">
                        <h3 class="work-title">UPDUTY<br>НАЖМИ ДЛЯ ПРОСМОТРА</h3>
                    </div>
                </div>
                <div class="work-item" data-work="5">
                    <img src="1234567/LOGO GHY.jpg" alt="GHY PROJECT" class="work-image" loading="lazy">
                    <div class="work-overlay">
                        <h3 class="work-title">GHY<br>НАЖМИ ДЛЯ ПРОСМОТРА</h3>
                    </div>
                </div>
                <div class="work-item" data-work="6">
                    <img src="123456789/Royal Horse Logo 2.jpg" alt="Royal Horse Logo" class="work-image" loading="lazy">
                    <div class="work-overlay">
                        <h3 class="work-title">ROYAL HORSE<br>НАЖМИ ДЛЯ ПРОСМОТРА</h3>
                    </div>
                </div>
            </div>
            <div class="view-all">
            </div>
        </div>
    </section>
    <section class="contact" id="contact">
        <div class="contact-container">
            <h2 class="contact-title">КОНТАКТЫ</h2>
            <div class="contact-minimal">
                <div class="contact-item-minimal">
                    <a href="https://mail.yandex.ru/compose?to=Rau1ik@yandex.ru" target="_blank" class="contact-link">Rau1ik@yandex.ru</a>
                </div>
                <div class="contact-item-minimal">
                    <a href="https://t.me/Vadyyya" target="_blank" class="contact-link">Telegram</a>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Модальное окно для просмотра работ -->
    <div id="workModal" class="work-modal">
        <div class="modal-content">
            <span class="modal-close">&times;</span>
            <div class="modal-nav">
                <button class="modal-prev" id="modalPrev">‹</button>
                <button class="modal-next" id="modalNext">›</button>
            </div>
            <div class="modal-gallery">
                <img id="modalImage" src="" alt="" class="modal-image">
                <div class="modal-info">
                    <h3 id="modalTitle" class="modal-title"></h3>
                    <p id="modalDescription" class="modal-description"></p>
                    <div class="modal-counter">
                        <span id="modalCounter">1 / 5</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // Экран загрузки
        function initLoadingScreen(duration = 2000) {
            const loadingScreen = document.getElementById('loadingScreen');
            const body = document.body;
            
            // Показываем экран загрузки на указанное время
            setTimeout(() => {
                loadingScreen.classList.add('fade-out');
                
                // Показываем основной контент после завершения анимации загрузки
                setTimeout(() => {
                    body.classList.add('loaded');
                    
                    
                    // Удаляем экран загрузки из DOM после анимации
                    setTimeout(() => {
                        if (loadingScreen && loadingScreen.parentNode) {
                            loadingScreen.parentNode.removeChild(loadingScreen);
                        }
                    }, 500); // Небольшая задержка для плавности
                }, 400); // Половина времени transition для плавности
            }, duration);
        }
        
        // Проверяем, был ли уже показан экран загрузки в этой сессии
        function shouldShowLoadingScreen() {
            const hasSeenLoading = sessionStorage.getItem('hasSeenLoading');
            return !hasSeenLoading;
        }
        
        // Инициализация экрана загрузки
        document.addEventListener('DOMContentLoaded', function() {
            if (shouldShowLoadingScreen()) {
                // При первом заходе показываем 7 секунд
                initLoadingScreen(7000);
                sessionStorage.setItem('hasSeenLoading', 'true');
            } else {
                // При последующих обновлениях показываем 2 секунды
                initLoadingScreen(2000);
            }
        });
        
        // Оптимизированный скролл индикатор с debounce
        const updateScrollProgress = debounce(() => {
            const scrollTop = window.pageYOffset;
            const docHeight = document.body.offsetHeight - window.innerHeight;
            const scrollPercent = (scrollTop / docHeight) * 100;
            const progressBar = document.getElementById('scrollProgress');
            if (progressBar) {
                progressBar.style.width = scrollPercent + '%';
            }
        }, 10);
        
        window.addEventListener('scroll', updateScrollProgress, { passive: true });
        
        document.querySelectorAll('a[href^="#"]').forEach(anchor => { anchor.addEventListener('click', function (e) { e.preventDefault(); const target = document.querySelector(this.getAttribute('href')); if (target) { target.scrollIntoView({ behavior: 'smooth', block: 'start' }); } }); });
        const observerOptions = { 
            threshold: [0, 0.5], 
            rootMargin: '0px 0px -50px 0px' 
        };
        const observer = new IntersectionObserver((entries) => { 
            entries.forEach(entry => { 
                if (entry.isIntersecting) { 
                    entry.target.classList.add('visible'); 
                } else {
                    entry.target.classList.remove('visible');
                }
            }); 
        }, observerOptions);
        
        

        // Функция создания span элементов для всех букв
        function createLetterSpans() {
            // Селекторы для всех текстовых элементов на сайте
            const textSelectors = [
                '.hero-title',
                '.hero-subtitle', 
                '.hero-description',
                '.profile-title',
                '.profile-text h3',
                '.profile-text p',
                '.competencies-title',
                '.competencies-subtitle',
                '.competencies-text',
                '.works-title',
                '.work-title',
                '.contact-title',
                '.contact-label',
                '.contact-value',
                '.social-item',
            ];
            
            textSelectors.forEach(selector => {
                const elements = document.querySelectorAll(selector);
                elements.forEach(element => {
                    if (!element.classList.contains('letters-processed')) {
                        wrapTextInSpans(element);
                        element.classList.add('letters-processed');
                    }
                });
            });
        }
        
        // Функция обертывания текста в span элементы
        function wrapTextInSpans(element) {
            const walker = document.createTreeWalker(
                element,
                NodeFilter.SHOW_TEXT,
                null,
                false
            );
            
            const textNodes = [];
            let node;
            while (node = walker.nextNode()) {
                if (node.textContent.trim()) {
                    textNodes.push(node);
                }
            }
            
            textNodes.forEach(textNode => {
                const text = textNode.textContent;
                const parent = textNode.parentNode;
                
                // Создаем span для каждой буквы
                const spans = text.split('').map(char => {
                    const span = document.createElement('span');
                    span.className = 'letter';
                    span.textContent = char === ' ' ? '\u00A0' : char; // неразрывный пробел
                    return span;
                });
                
                // Заменяем текстовый узел на span элементы
                spans.forEach(span => parent.insertBefore(span, textNode));
                parent.removeChild(textNode);
            });
        }
        
        // Функция инициализации эффекта лупы для всех текстовых элементов
        function initMagnifierEffect() {
            // Создаем span элементы для всех букв на сайте
            createLetterSpans();
            
            const letters = document.querySelectorAll('.letter');
            console.log('Initializing magnifier effect for', letters.length, 'letters');
            
            letters.forEach(letter => {
                // Удаляем старые обработчики если они есть
                letter.removeEventListener('mouseenter', letter._magnifierEnter);
                letter.removeEventListener('mouseleave', letter._magnifierLeave);
                
                // Создаем новые обработчики
                letter._magnifierEnter = function() {
                    console.log('Mouse enter on letter:', this.textContent);
                    
                    // Определяем родительский контейнер для изоляции эффекта
                    const parentContainer = this.closest('.hero-title, .hero-subtitle, .hero-description, .profile-title, .competencies-title, .competencies-subtitle, .competencies-text, .works-title, .work-title, .contact-title, .contact-label, .contact-value, .social-grid');
                    
                    if (parentContainer) {
                    // Убираем эффект с соседних букв в том же контейнере
                    parentContainer.querySelectorAll('.letter').forEach(l => {
                        if (l !== this) {
                            l.style.transform = 'scale(1)';
                            l.style.textShadow = '';
                            l.style.zIndex = '1';
                            l.style.color = '';
                        }
                    });
                    
                    // Применяем эффект к текущей букве
                    this.style.transform = 'scale(1.8)';
                    this.style.textShadow = '0 0 12px rgba(255, 255, 255, 0.8)';
                    this.style.zIndex = '100';
                    this.style.color = '#fff';
                    
                    // Применяем частичный эффект к соседним буквам
                    const nextLetter = this.nextElementSibling;
                    const prevLetter = this.previousElementSibling;
                    
                    if (nextLetter && nextLetter.classList.contains('letter')) {
                        nextLetter.style.transform = 'scale(1.15)';
                        nextLetter.style.textShadow = '0 0 6px rgba(255, 255, 255, 0.6)';
                        nextLetter.style.zIndex = '50';
                        nextLetter.style.color = '#fff';
                    }
                    
                    if (prevLetter && prevLetter.classList.contains('letter')) {
                        prevLetter.style.transform = 'scale(1.15)';
                        prevLetter.style.textShadow = '0 0 6px rgba(255, 255, 255, 0.6)';
                        prevLetter.style.zIndex = '50';
                        prevLetter.style.color = '#fff';
                        }
                    }
                };
                
                letter._magnifierLeave = function() {
                    console.log('Mouse leave on letter:', this.textContent);
                    
                    // Возвращаем все буквы в том же контейнере к исходному состоянию
                    const parentContainer = this.closest('.hero-title, .hero-subtitle, .hero-description, .profile-title, .competencies-title, .competencies-subtitle, .competencies-text, .works-title, .work-title, .contact-title, .contact-label, .contact-value, .social-grid');
                    
                    if (parentContainer) {
                        parentContainer.querySelectorAll('.letter').forEach(l => {
                            l.style.transform = '';
                            l.style.textShadow = '';
                            l.style.zIndex = '';
                            l.style.color = '';
                        });
                    }
                };
                
                // Добавляем обработчики
                letter.addEventListener('mouseenter', letter._magnifierEnter);
                letter.addEventListener('mouseleave', letter._magnifierLeave);
            });
        }
        
        // JavaScript включен для всех текстовых элементов
        initMagnifierEffect();
        
        // Инициализируем после загрузки DOM
        document.addEventListener('DOMContentLoaded', function() {
            initMagnifierEffect();
        });
        
        // Инициализируем после завершения анимаций
        setTimeout(function() {
            initMagnifierEffect();
        }, 3000);
        
        
        
        
        
        
        // Debounce функция для оптимизации
        function debounce(func, wait) {
            let timeout;
            return function executedFunction(...args) {
                const later = () => {
                    clearTimeout(timeout);
                    func(...args);
                };
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
            };
        }
        
        
        
        // Интерактивная галерея работ
        function initWorksGallery() {
            const workItem = document.querySelector('.work-item[data-work="1"]');
            const modal = document.getElementById('workModal');
            const modalGallery = document.querySelector('.modal-gallery');
            const modalClose = document.querySelector('.modal-close');
            const modalPrev = document.getElementById('modalPrev');
            const modalNext = document.getElementById('modalNext');
            
            // Массив всех работ
            const allWorks = [
                {
                    title: 'SPACE',
                    image: 'works/SPACE.jpg'
                },
                {
                    title: 'ART BILLBOARD',
                    image: 'works/ARTBillboard.jpg'
                },
                {
                    title: 'ART LOGO',
                    image: 'works/ARTLogo.jpg'
                },
                {
                    title: 'EXHIBITION',
                    image: 'works/Exhibition.jpg'
                },
                {
                    title: 'GRAPHIC DESIGN',
                    image: 'works/Gdesign.jpg'
                }
            ];
            
            // Массив работ Lumiere
            const lumiereWorks = [
                {
                    title: 'LUMIERE LOGO',
                    description: 'Создание логотипа для бренда Lumiere с акцентом на элегантность и современность.',
                    image: 'works/Lumiere Logo.jpg'
                },
                {
                    title: 'LUMIERE BACKDROP',
                    description: 'Дизайн фонового изображения для презентации бренда с фокусом на визуальную привлекательность.',
                    image: 'works/Lumiere Backdrop.jpg'
                },
                {
                    title: 'LUMIERE BAG',
                    description: 'Дизайн упаковки для продуктов бренда с современным подходом к брендингу.',
                    image: 'works/Lumiere Bag.jpg'
                },
                {
                    title: 'LUMIERE BOX',
                    description: 'Создание дизайна коробки для упаковки с акцентом на премиальность и качество.',
                    image: 'works/Lumiere Box.jpg'
                }
            ];

            const ekoLifeWorks = [
                {
                    title: 'EKOLIFE LOGO',
                    description: 'Создание логотипа для экологического бренда EkoLife с акцентом на природность и устойчивость.',
                    image: '12345/EkoLife Logo.jpg?v=2'
                },
                {
                    title: 'EKOLIFE CHEMISTRY',
                    description: 'Дизайн химической формулы для демонстрации экологически чистых компонентов продукта.',
                    image: '12345/EkoLife Chemistry.jpg?v=2'
                },
                {
                    title: 'EKOLIFE CUP',
                    description: 'Дизайн экологической чашки с фокусом на переработку и экологичность материалов.',
                    image: '12345/EkoLife Cup.jpg?v=2'
                },
                {
                    title: 'EKOLIFE PACKAGE',
                    description: 'Создание дизайна упаковки с акцентом на экологичность и минимализм.',
                    image: '12345/EkoLife Package.jpg?v=2'
                },
                {
                    title: 'EKOLIFE PACKAGE 2',
                    description: 'Альтернативный дизайн упаковки с современным подходом к экологическому брендингу.',
                    image: '12345/EkoLife Package 2.jpg?v=2'
                }
            ];

            // Массив работ проекта UPDUTY
            const newProjectWorks = [
                {
                    title: 'UPDUTY LOGO',
                    description: 'Создание основного логотипа для бренда UPDUTY с современным дизайном и узнаваемостью.',
                    image: '123456/UPDUTY LOGO.jpg'
                },
                {
                    title: 'UPDUTY LOGO 2',
                    description: 'Альтернативный вариант логотипа UPDUTY с акцентом на минимализм и элегантность.',
                    image: '123456/UPDUTY LOGO 2.jpg'
                },
                {
                    title: 'UPDUTY BUSINESS CARD',
                    description: 'Дизайн визитной карточки с фирменным стилем UPDUTY и профессиональным подходом.',
                    image: '123456/UPDUTY BUSINESS CARD.jpg'
                },
                {
                    title: 'UPDUTY FOLDER',
                    description: 'Создание дизайна папки для документов с брендингом UPDUTY.',
                    image: '123456/UPDUTY FOLDER.jpg'
                },
                {
                    title: 'UPDUTY BADGE',
                    description: 'Дизайн значка/бейджа с логотипом UPDUTY для корпоративного использования.',
                    image: '123456/UPDUTY BADGE.jpg'
                },
                {
                    title: 'UPDUTY HOODIES',
                    description: 'Дизайн толстовки с принтом UPDUTY для мерчандайзинга и корпоративного стиля.',
                    image: '123456/UPDUTY HOODIES.jpg'
                },
                {
                    title: 'UPDUTY SIGNBOARD',
                    description: 'Создание дизайна вывески для офиса или торговой точки UPDUTY.',
                    image: '123456/UPDUTY SIGNBOARD.jpg'
                },
                {
                    title: 'UPDUTY WEBSITE',
                    description: 'Дизайн веб-сайта для бренда UPDUTY с современным интерфейсом и пользовательским опытом.',
                    image: '123456/UPDUTY WEBSITE.jpg'
                }
            ];

            // Массив работ проекта GHY
            const project5Works = [
                {
                    title: 'GHY LOGO',
                    description: 'Создание основного логотипа для бренда GHY с современным дизайном и узнаваемостью.',
                    image: '1234567/LOGO GHY.jpg'
                },
                {
                    title: 'GHY LETTER',
                    description: 'Дизайн фирменного письма с брендингом GHY и профессиональным подходом.',
                    image: '1234567/Letter GHY.jpg'
                },
                {
                    title: 'GHY VISIT CARD',
                    description: 'Создание визитной карточки с фирменным стилем GHY и элегантным дизайном.',
                    image: '1234567/Visit Card GHY.jpg'
                },
                {
                    title: 'GHY BADGE & WEB',
                    description: 'Разработка значка и веб-дизайна для бренда GHY с акцентом на современность.',
                    image: '1234567/BADGE&WEB GHY.jpg'
                }
            ];

            // Массив работ проекта Royal Horse
            const royalHorseWorks = [
                {
                    title: 'ROYAL HORSE LOGO',
                    image: '123456789/Royal Horse Logo 2.jpg'
                },
                {
                    title: 'ROYAL HORSE ОПИСАНИЕ',
                    image: '123456789/Royal Horse описание.jpg'
                },
                {
                    title: 'ROYAL HORSE ОПИСАНИЕ 2',
                    image: '123456789/Royal Horse описание 2.jpg'
                },
                {
                    title: 'ROYAL HORSE ФИНАЛ',
                    image: '123456789/Royal Horse конец.png'
                }
            ];
            
            let currentWorkIndex = 0;
            let isClosing = false;
            let currentWorksArray = allWorks;
            let currentGalleryType = 'main'; // 'main', 'lumiere' или 'ekolife'
            
            // Обработчик клика на левый верхний квадратик
            workItem.addEventListener('click', function() {
                openFullscreenGallery();
            });
            
            // Обработчик клика на второй квадратик (Lumiere)
            const workItem2 = document.querySelector('.work-item[data-work="2"]');
            workItem2.addEventListener('click', function() {
                openLumiereGallery();
            });

            // Обработчик клика на третий квадратик (EkoLife)
            const workItem3 = document.querySelector('.work-item[data-work="3"]');
            workItem3.addEventListener('click', function() {
                openEkoLifeGallery();
            });

            // Обработчик клика на четвертый квадратик (Новый проект)
            const workItem4 = document.querySelector('.work-item[data-work="4"]');
            workItem4.addEventListener('click', function() {
                openNewProjectGallery();
            });

            // Обработчик клика на пятый квадратик (GHY)
            const workItem5 = document.querySelector('.work-item[data-work="5"]');
            workItem5.addEventListener('click', function() {
                openProject5Gallery();
            });

            // Обработчик клика на шестой квадратик (Royal Horse)
            const workItem6 = document.querySelector('.work-item[data-work="6"]');
            workItem6.addEventListener('click', function() {
                openRoyalHorseGallery();
            });
            
            // Функция открытия полноэкранной галереи
            function openFullscreenGallery() {
                modal.style.display = 'block';
                document.body.style.overflow = 'hidden';
                
                // Устанавливаем текущий массив работ и тип галереи
                currentWorksArray = allWorks;
                currentGalleryType = 'main';
                
                // Сбрасываем флаг закрытия
                isClosing = false;
                
                // Сбрасываем позицию скролла на самый верх
                modal.scrollTop = 0;
                
                // Сбрасываем индекс текущей работы
                currentWorkIndex = 0;
                
                // Добавляем класс для анимации открытия
                modal.classList.add('modal-opening');
                
                // Создаем все элементы галереи
                createGalleryContent(allWorks);
            }
            
            // Функция открытия галереи Lumiere
            function openLumiereGallery() {
                modal.style.display = 'block';
                document.body.style.overflow = 'hidden';

                // Устанавливаем текущий массив работ и тип галереи
                currentWorksArray = lumiereWorks;
                currentGalleryType = 'lumiere';

                // Сбрасываем флаг закрытия
                isClosing = false;

                // Сбрасываем позицию скролла на самый верх
                modal.scrollTop = 0;

                // Сбрасываем индекс текущей работы
                currentWorkIndex = 0;

                // Добавляем класс для анимации открытия
                modal.classList.add('modal-opening');

                // Создаем все элементы галереи Lumiere
                createGalleryContent(lumiereWorks);
            }

            // Функция открытия галереи EkoLife
            function openEkoLifeGallery() {
                modal.style.display = 'block';
                document.body.style.overflow = 'hidden';

                // Устанавливаем текущий массив работ и тип галереи
                currentWorksArray = ekoLifeWorks;
                currentGalleryType = 'ekolife';

                // Сбрасываем флаг закрытия
                isClosing = false;

                // Сбрасываем позицию скролла на самый верх
                modal.scrollTop = 0;

                // Сбрасываем индекс текущей работы
                currentWorkIndex = 0;

                // Добавляем класс для анимации открытия
                modal.classList.add('modal-opening');

                // Создаем все элементы галереи EkoLife
                createGalleryContent(ekoLifeWorks);
            }

            // Функция открытия галереи нового проекта
            function openNewProjectGallery() {
                modal.style.display = 'block';
                document.body.style.overflow = 'hidden';

                // Устанавливаем текущий массив работ и тип галереи
                currentWorksArray = newProjectWorks;
                currentGalleryType = 'newproject';

                // Сбрасываем флаг закрытия
                isClosing = false;

                // Сбрасываем позицию скролла на самый верх
                modal.scrollTop = 0;

                // Сбрасываем индекс текущей работы
                currentWorkIndex = 0;

                // Добавляем класс для анимации открытия
                modal.classList.add('modal-opening');

                // Создаем все элементы галереи нового проекта
                createGalleryContent(newProjectWorks);
            }

            // Функция открытия галереи проекта GHY
            function openProject5Gallery() {
                modal.style.display = 'block';
                document.body.style.overflow = 'hidden';

                // Устанавливаем текущий массив работ и тип галереи
                currentWorksArray = project5Works;
                currentGalleryType = 'project5';

                // Сбрасываем флаг закрытия
                isClosing = false;

                // Сбрасываем позицию скролла на самый верх
                modal.scrollTop = 0;

                // Сбрасываем индекс текущей работы
                currentWorkIndex = 0;

                // Добавляем класс для анимации открытия
                modal.classList.add('modal-opening');

                // Создаем все элементы галереи проекта GHY
                createGalleryContent(project5Works);
            }

            // Функция открытия галереи проекта Royal Horse
            function openRoyalHorseGallery() {
                modal.style.display = 'block';
                document.body.style.overflow = 'hidden';

                // Устанавливаем текущий массив работ и тип галереи
                currentWorksArray = royalHorseWorks;
                currentGalleryType = 'royalhorse';

                // Сбрасываем флаг закрытия
                isClosing = false;

                // Сбрасываем позицию скролла на самый верх
                modal.scrollTop = 0;

                // Сбрасываем индекс текущей работы
                currentWorkIndex = 0;

                // Добавляем класс для анимации открытия
                modal.classList.add('modal-opening');

                // Создаем все элементы галереи проекта Royal Horse
                createGalleryContent(royalHorseWorks);
            }
            
            // Функция создания контента галереи
            function createGalleryContent(worksArray) {
                modalGallery.innerHTML = '';
                
                // Проверяем, является ли это галереей Royal Horse
                const isRoyalHorse = currentGalleryType === 'royalhorse';
                
                // Скрываем навигацию для всех галерей
                const modalNav = document.querySelector('.modal-nav');
                if (modalNav) {
                    modalNav.style.display = 'none';
                }
                
                worksArray.forEach((work, index) => {
                    // Создаем контейнер для работы
                    const workContainer = document.createElement('div');
                    workContainer.className = 'work-container';
                    
                    if (isRoyalHorse) {
                        // Для Royal Horse: без отступов, только изображения
                        workContainer.style.cssText = `
                            display: flex;
                            flex-direction: column;
                            align-items: center;
                            gap: 0;
                            padding: 0;
                            min-height: 100vh;
                            justify-content: center;
                            opacity: 0;
                            transform: translate3d(0, 30px, 0);
                            transition: all 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
                        `;
                    } else {
                        // Для остальных галерей: стандартный стиль
                        workContainer.style.cssText = `
                            display: flex;
                            flex-direction: column;
                            align-items: center;
                            gap: 40px;
                            padding: 60px 20px;
                            min-height: 100vh;
                            justify-content: center;
                            opacity: 0;
                            transform: translate3d(0, 30px, 0);
                            transition: all 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
                        `;
                    }
                    
                    // Добавляем задержку для последовательного появления
                    setTimeout(() => {
                        workContainer.style.opacity = '1';
                        workContainer.style.transform = 'translateY(0)';
                    }, index * 200);
                    
                    // Создаем изображение
                    const img = document.createElement('img');
                    img.src = work.image;
                    img.alt = work.title;
                    img.className = 'modal-image';
                    
                    if (isRoyalHorse) {
                        // Для Royal Horse: увеличенный размер, без отступов
                        img.style.cssText = `
                            width: 100%;
                            max-width: 100vw;
                            height: auto;
                            object-fit: contain;
                            border-radius: 0;
                            box-shadow: none;
                            transition: all 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
                            opacity: 0;
                            transform: scale(0.9);
                        `;
                    } else {
                        // Для остальных галерей: стандартный стиль
                        img.style.cssText = `
                            width: 100%;
                            max-width: 1200px;
                            height: auto;
                            object-fit: contain;
                            border-radius: 12px;
                            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
                            transition: all 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
                            opacity: 0;
                            transform: scale(0.9);
                        `;
                    }
                    
                    // Анимация появления изображения
                    setTimeout(() => {
                        img.style.opacity = '1';
                        img.style.transform = 'scale(1)';
                    }, index * 200 + 300);
                    
                    workContainer.appendChild(img);
                    
                    // Добавляем информацию о работе для всех галерей кроме основного блока (SPACE) и Royal Horse
                    if (!isRoyalHorse && currentGalleryType !== 'main') {
                        // Создаем информацию о работе
                        const info = document.createElement('div');
                        info.className = 'modal-info';
                        info.style.cssText = `
                            text-align: center;
                            padding: 40px 20px;
                            background: transparent;
                            max-width: 800px;
                            width: 100%;
                            opacity: 0;
                            transform: translateY(20px);
                            transition: all 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
                        `;
                        
                        // Анимация появления информации
                        setTimeout(() => {
                            info.style.opacity = '1';
                            info.style.transform = 'translateY(0)';
                        }, index * 200 + 500);
                        
                        const title = document.createElement('h3');
                        title.textContent = work.title;
                        title.style.cssText = `
                            font-size: 2.5rem;
                            font-weight: 300;
                            color: #fff;
                            margin-bottom: 20px;
                            text-shadow: 0 0 20px rgba(255, 255, 255, 0.3);
                        `;
                        
                        const description = document.createElement('p');
                        description.textContent = work.description;
                        description.style.cssText = `
                            font-size: 1.2rem;
                            color: #ccc;
                            line-height: 1.8;
                            margin-bottom: 20px;
                        `;
                        
                        info.appendChild(title);
                        info.appendChild(description);
                        workContainer.appendChild(info);
                    }
                    
                    modalGallery.appendChild(workContainer);
                });
                
                // Добавляем стрелочку закрытия снизу для всех галерей
                    const closeButton = document.createElement('div');
                    closeButton.className = 'royal-horse-close';
                    closeButton.innerHTML = '↓';
                    closeButton.style.cssText = `
                        position: fixed;
                        bottom: 10px;
                        left: 50%;
                        transform: translateX(-50%);
                        width: 60px;
                        height: 60px;
                        background: rgba(0, 0, 0, 0.8);
                        border: 2px solid #fff;
                        border-radius: 50%;
                        color: #fff;
                        font-size: 24px;
                        font-weight: bold;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        cursor: pointer;
                        z-index: 10000;
                        transition: all 0.3s ease;
                        opacity: 0;
                        animation: fadeInUp 0.6s ease 3s forwards;
                        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.6);
                    `;
                    
                    closeButton.addEventListener('click', function() {
                        // Анимация исчезновения стрелочки
                        this.style.transition = 'all 0.3s ease';
                        this.style.opacity = '0';
                        this.style.transform = 'translateX(-50%) scale(0.5)';
                        
                        // Закрываем модальное окно через небольшую задержку
                        setTimeout(() => {
                            closeModal();
                        }, 150);
                    });
                    closeButton.addEventListener('mouseenter', function() {
                        this.style.background = '#00ffff';
                        this.style.borderColor = '#00ffff';
                        this.style.color = '#000';
                        this.style.transform = 'translateX(-50%) scale(1.1)';
                        this.style.boxShadow = '0 6px 25px rgba(0, 255, 255, 0.4)';
                    });
                    closeButton.addEventListener('mouseleave', function() {
                        this.style.background = 'rgba(0, 0, 0, 0.8)';
                        this.style.borderColor = '#fff';
                        this.style.color = '#fff';
                        this.style.transform = 'translateX(-50%) scale(1)';
                        this.style.boxShadow = '0 4px 15px rgba(0, 0, 0, 0.6)';
                    });
                    
                    document.body.appendChild(closeButton);
                    
                    // Удаляем кнопку при закрытии модального окна
                    const originalCloseModal = closeModal;
                    closeModal = function() {
                        const closeBtn = document.querySelector('.royal-horse-close');
                        if (closeBtn) {
                            closeBtn.remove();
                        }
                        originalCloseModal();
                    };
                
                // Убеждаемся, что скролл находится в самом верху
                setTimeout(() => {
                    modal.scrollTop = 0;
                }, 100);
            }
            
            
            // Функция закрытия модального окна
            function closeModal() {
                // Добавляем класс для анимации закрытия
                modal.classList.remove('modal-opening');
                modal.classList.add('modal-closing');
                
                // Ждем завершения анимации закрытия, затем скрываем модальное окно
                setTimeout(() => {
                    modal.style.display = 'none';
                    document.body.style.overflow = 'auto';
                    modal.classList.remove('modal-closing');
                }, 400); // Длительность анимации закрытия
            }
            
            // Обработчики кнопок навигации
            modalNext.addEventListener('click', function() {
                currentWorkIndex = (currentWorkIndex + 1) % currentWorksArray.length;
                scrollToWork(currentWorkIndex);
            });
            
            modalPrev.addEventListener('click', function() {
                currentWorkIndex = (currentWorkIndex - 1 + currentWorksArray.length) % currentWorksArray.length;
                scrollToWork(currentWorkIndex);
            });
            
            // Функция прокрутки к конкретной работе
            function scrollToWork(index) {
                const workContainers = modalGallery.querySelectorAll('.work-container');
                if (workContainers[index]) {
                    workContainers[index].scrollIntoView({ 
                        behavior: 'smooth', 
                        block: 'center' 
                    });
                }
            }
            
            // Навигация по работам стрелками
            document.addEventListener('keydown', function(e) {
                if (modal.style.display === 'block') {
                    if (e.key === 'ArrowLeft') {
                        modalPrev.click();
                    } else if (e.key === 'ArrowRight') {
                        modalNext.click();
                    } else if (e.key === 'Escape') {
                        closeModal();
                    }
                }
            });
            
            // Закрытие модального окна
            modalClose.addEventListener('click', closeModal);
            
            // Закрытие по клику вне модального окна
            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    closeModal();
                }
            });
            
            // Обработчик скролла для автоматического закрытия
            modal.addEventListener('scroll', function() {
                if (isClosing) return; // Предотвращаем множественные срабатывания
                
                const scrollTop = modal.scrollTop;
                const scrollHeight = modal.scrollHeight;
                const clientHeight = modal.clientHeight;
                const scrollBottom = scrollHeight - clientHeight;
                
                // Отключаем анимацию закрытия по скролу для всех галерей
                let closeThreshold = -1; // Отключаем закрытие по скролу
                let closeDelay = 0;
                console.log('Auto-close disabled for all galleries');
                
                // Проверяем, доскроллил ли пользователь до конца (только если closeThreshold >= 0)
                if (closeThreshold >= 0 && scrollTop >= scrollBottom - closeThreshold) {
                    console.log('Closing condition met! Gallery type:', currentGalleryType, 'Delay:', closeDelay + 'ms');
                    isClosing = true;
                    // Задержка перед закрытием (разная для разных галерей)
                    setTimeout(() => {
                        console.log('Closing modal after delay');
                        closeModal();
                    }, closeDelay);
                }
            });
            
        }
        
        // Инициализация галереи при загрузке страницы
        document.addEventListener('DOMContentLoaded', initWorksGallery);
        
        // Автоматическая прокрутка в верхний блок при загрузке страницы
        document.addEventListener('DOMContentLoaded', function() {
            // Прокручиваем страницу в самый верх
            window.scrollTo({
                top: 0,
                left: 0,
                behavior: 'smooth'
            });
        });
        
        // Также прокручиваем вверх при обновлении страницы
        window.addEventListener('beforeunload', function() {
            window.scrollTo(0, 0);
        });
        
        
    </script>
</body>
</html>